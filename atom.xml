<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>SIGABRT</title>
  
  <subtitle>Seeking Thinking Realizing Value</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://gobodigo.com/"/>
  <updated>2018-07-16T05:09:25.159Z</updated>
  <id>http://gobodigo.com/</id>
  
  <author>
    <name>Charles Liu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>è·å¾—è¿è¡Œæ—¶æŒ‡å®šDOMå…ƒç´ çš„Style</title>
    <link href="http://gobodigo.com/2018/07/16/javascript-get-style/"/>
    <id>http://gobodigo.com/2018/07/16/javascript-get-style/</id>
    <published>2018-07-16T05:08:42.000Z</published>
    <updated>2018-07-16T05:09:25.159Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è·å¾—è¿è¡Œæ—¶æŒ‡å®šDOMå…ƒç´ çš„Style"><a href="#è·å¾—è¿è¡Œæ—¶æŒ‡å®šDOMå…ƒç´ çš„Style" class="headerlink" title="è·å¾—è¿è¡Œæ—¶æŒ‡å®šDOMå…ƒç´ çš„Style"></a>è·å¾—è¿è¡Œæ—¶æŒ‡å®šDOMå…ƒç´ çš„Style</h2><p>åœ¨å·¥ä½œä¸­æœ‰æ—¶å€™éœ€è¦è·å¾—æŒ‡å®šDOMå…ƒç´ æ˜¯å¦å…·æœ‰æŸç§styleï¼Œå†…è”æ ·å¼å’Œå±‚å æ ·å¼éƒ½éœ€è¦æ£€æŸ¥ï¼Œæ€ä¹ˆåšå‘¢ï¼Ÿç›´æ¥ä¸Šä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å°†å­—ç¬¦ä¸²ä¸­çš„'-'å¼€å§‹çš„å­å­—ç¬¦ä¸²å»æ‰'-'å¹¶æ›¿æ¢ä¸ºå¤§å†™å­—æ¯</span></span><br><span class="line"><span class="comment"> * ä¾‹å¦‚background-color,ä¼šè¢«æ›¿æ¢ä¸ºbackgroundColor</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">camelize</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> str.replace(<span class="regexp">/-(\w)/g</span>, <span class="function"><span class="keyword">function</span> (<span class="params">strMatch, p1</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> p1.toUpperCase();</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å¾—æŒ‡å®šå…ƒç´ çš„æŒ‡å®šstyle</span></span><br><span class="line"><span class="comment"> * @param elem DOM å…ƒç´ </span></span><br><span class="line"><span class="comment"> * @param property styleçš„åå­—</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">elem, property</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!elem || !property) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'elem or property should not be undefined or null.'</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> value = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span>(elem.style)&#123;</span><br><span class="line">        value = elem.style[camelize(property)];<span class="comment">//å…ˆè·å–æ˜¯å¦æœ‰å†…è”æ ·å¼</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// æ— å†…è”æ ·å¼ï¼Œåˆ™è·å–å±‚å æ ·å¼è¡¨è®¡ç®—åçš„æ ·å¼</span></span><br><span class="line">        <span class="keyword">if</span> (!value || value === <span class="string">""</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">document</span>.defaultView &amp;&amp; <span class="built_in">document</span>.defaultView.getComputedStyle) &#123;</span><br><span class="line">                <span class="keyword">var</span> css = <span class="built_in">document</span>.defaultView.getComputedStyle(elem,<span class="literal">null</span>);</span><br><span class="line">                value = css ? css.getPropertyValue(property) : <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(error);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>camelize</code>æ–¹æ³•å°†ä¼ å…¥çš„styleåç§°ä¸­çš„<code>-</code>æ›¿æ¢æ‰ï¼Œå› ä¸ºå†…è”æ ·å¼çš„åç§°ä¸­ä¸åŒ…æ‹¬å®ƒã€‚å¦‚<code>getStyle</code>æ–¹æ³•æ‰€ä½“ç°çš„ï¼Œä¼˜å…ˆåœ¨å†…è”æ ·å¼ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°å°±è¿”å›ï¼Œå¦åˆ™è°ƒç”¨<code>defaultView</code>çš„<code>getComputedStyle</code>æ–¹æ³•æ¥è·å¾—å±‚å æ ·å¼è¡¨ä¸­çš„styleã€‚</p><h3 id="defaultView"><a href="#defaultView" class="headerlink" title="defaultView"></a>defaultView</h3><p>ä»€ä¹ˆæ˜¯<code>defaultView</code>? æ ¹æ®<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document/defaultView" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/Document/defaultView</a>æ‰€è¯´ï¼š</p><blockquote><p>åœ¨æµè§ˆå™¨ä¸­ï¼Œè¯¥å±æ€§è¿”å›å½“å‰ document å¯¹è±¡æ‰€å…³è”çš„ window å¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰ï¼Œä¼šè¿”å› nullã€‚</p></blockquote><h3 id="getComputedStyle"><a href="#getComputedStyle" class="headerlink" title="getComputedStyle"></a>getComputedStyle</h3><blockquote><p>Window.getComputedStyle()æ–¹æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åœ¨åº”ç”¨æ´»åŠ¨æ ·å¼è¡¨å¹¶è§£æè¿™äº›å€¼å¯èƒ½åŒ…å«çš„ä»»ä½•åŸºæœ¬è®¡ç®—åæŠ¥å‘Šå…ƒç´ çš„æ‰€æœ‰CSSå±æ€§çš„å€¼ã€‚ ç§æœ‰çš„CSSå±æ€§å€¼å¯ä»¥é€šè¿‡å¯¹è±¡æä¾›çš„APIæˆ–é€šè¿‡ç®€å•åœ°ä½¿ç”¨CSSå±æ€§åç§°è¿›è¡Œç´¢å¼•æ¥è®¿é—®ã€‚</p></blockquote><p>å‚è€ƒï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/getComputedStyle" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/Window/getComputedStyle</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;è·å¾—è¿è¡Œæ—¶æŒ‡å®šDOMå…ƒç´ çš„Style&quot;&gt;&lt;a href=&quot;#è·å¾—è¿è¡Œæ—¶æŒ‡å®šDOMå…ƒç´ çš„Style&quot; class=&quot;headerlink&quot; title=&quot;è·å¾—è¿è¡Œæ—¶æŒ‡å®šDOMå…ƒç´ çš„Style&quot;&gt;&lt;/a&gt;è·å¾—è¿è¡Œæ—¶æŒ‡å®šDOMå…ƒç´ çš„Style&lt;/h2&gt;&lt;p&gt;åœ¨å·¥ä½œä¸­æœ‰æ—¶
      
    
    </summary>
    
      <category term="javascript" scheme="http://gobodigo.com/categories/javascript/"/>
    
    
      <category term="javascript" scheme="http://gobodigo.com/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>å¯¹æŠ—åç¼–è¯‘ä¹‹ä½¿ç”¨å¯†ç è¡¨æ¥ä¿æŠ¤ä»£ç ä¸­çš„å­—ç¬¦ä¸²</title>
    <link href="http://gobodigo.com/2018/07/13/password-table/"/>
    <id>http://gobodigo.com/2018/07/13/password-table/</id>
    <published>2018-07-13T04:30:24.000Z</published>
    <updated>2018-07-17T05:12:14.058Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¯¹æŠ—åç¼–è¯‘ä¹‹ä½¿ç”¨å¯†ç è¡¨æ¥ä¿æŠ¤ä»£ç ä¸­çš„å­—ç¬¦ä¸²"><a href="#å¯¹æŠ—åç¼–è¯‘ä¹‹ä½¿ç”¨å¯†ç è¡¨æ¥ä¿æŠ¤ä»£ç ä¸­çš„å­—ç¬¦ä¸²" class="headerlink" title="å¯¹æŠ—åç¼–è¯‘ä¹‹ä½¿ç”¨å¯†ç è¡¨æ¥ä¿æŠ¤ä»£ç ä¸­çš„å­—ç¬¦ä¸²"></a>å¯¹æŠ—åç¼–è¯‘ä¹‹ä½¿ç”¨å¯†ç è¡¨æ¥ä¿æŠ¤ä»£ç ä¸­çš„å­—ç¬¦ä¸²</h2><p>åœ¨æœ€è¿‘å‡ ä¸ªæœˆçš„æ—¶é—´å†…ï¼Œç”±äºå·¥ä½œçš„å…³ç³»ï¼Œä¸€ç›´åœ¨å¯¹æŠ—äº’è”ç½‘çš„é»‘è‰²äº§ä¸šï¼Œå°±æ˜¯ä¼ è¯´ä¸­çš„ä¼—å¤šåˆ·æœºå·¥ä½œå®¤ã€‚ä»–ä»¬æ‹¥æœ‰æ•°é‡ä¼—å¤šçš„è¶Šç‹±è®¾å¤‡ï¼Œåªè¦æœ‰åˆ©å¯å›¾ï¼Œå°±ä¼šå¯¹ç›®æ ‡ipaè¿›è¡Œç ´è§£æ¥è¾¾åˆ°è·åˆ©çš„ç›®çš„ã€‚</p><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œè‹¹æœè®¾å¤‡å’Œappçš„å®‰å…¨æ€§è¦æ¯”éš”å£å®‰å“é«˜å‡ºè®¸å¤šï¼Œä½†è¿™ä¸ªæ˜¯åœ¨æœ‰è‹¹æœçˆ¸çˆ¸è®¾è®¡çš„ä¸€ç³»åˆ—å®‰å…¨ä¿æŠ¤æªæ–½ä¸‹é¢ï¼Œä¹Ÿå°±æ˜¯åœ¨éè¶Šç‹±ç¯å¢ƒä¸‹ã€‚ä¸€æ—¦appè·‘åœ¨è¶Šç‹±çš„ç¯å¢ƒä¸‹ï¼Œå¹¶ä¸”å¼€å‘è€…æ²¡æœ‰åšä»»ä½•ä¿æŠ¤æªæ–½çš„è¯ï¼Œé‚£å°±ç›¸å½“äºè£¸å¥”äº†ã€‚</p><p>å®‰å…¨è¿™ä¸ªé—®é¢˜å¾ˆå¤§ï¼Œæˆ‘ä»…åˆ†äº«ç»™å¤§å®¶å·¥ä½œä¸­æˆ‘å­¦åˆ°çš„ç»éªŒï¼Œä¹‹åæˆ‘ä¼šä¸€ç‚¹ä¸€ç‚¹æ›´æ–°æˆ‘çš„blogï¼Œå¦‚æœæœ‰æ›´å¤šæ—¶é—´ï¼Œè¿˜æœ‰å¼€æºä¸€äº›ä»£ç åˆ°æˆ‘çš„githubä¸Šã€‚ä»Šå¤©å…ˆæ¥è°ˆè°ˆç¨‹åºä¸­å­—ç¬¦ä¸²çš„å®‰å…¨é—®é¢˜ã€‚</p><h3 id="ä¸€èˆ¬ç¨‹åºä¸­å¯¹æ•æ„Ÿå­—ç¬¦ä¸²å¤„ç†çš„ä¾‹å­"><a href="#ä¸€èˆ¬ç¨‹åºä¸­å¯¹æ•æ„Ÿå­—ç¬¦ä¸²å¤„ç†çš„ä¾‹å­" class="headerlink" title="ä¸€èˆ¬ç¨‹åºä¸­å¯¹æ•æ„Ÿå­—ç¬¦ä¸²å¤„ç†çš„ä¾‹å­"></a>ä¸€èˆ¬ç¨‹åºä¸­å¯¹æ•æ„Ÿå­—ç¬¦ä¸²å¤„ç†çš„ä¾‹å­</h3><p>ä¸€èˆ¬ç¨‹åºå‘˜å› ä¸ºå·¥æœŸèµ¶æˆ–è€…æ²¡æœ‰å®‰å…¨æ€§ä¸Šçš„é¡¾è™‘ï¼Œå¯¹appä¸­æ•æ„Ÿçš„å­—ç¬¦ä¸²ï¼Œå°¤å…¶æ˜¯è·Ÿè‡ªå®¶æœåŠ¡å™¨é€šä¿¡çš„ç§é’¥å•¦ï¼Œèº«ä»½éªŒè¯keyå•¦ï¼Œéƒ½æ˜¯ç”¨ä¸€ä¸ªå…¨å±€å­—ç¬¦ä¸²å¸¸é‡æ¥ä¿å­˜ï¼Œå°±è·Ÿä¸‹é¢ä»£ç ä¸€æ ·ï¼š</p><h4 id="secret-h-æ–‡ä»¶"><a href="#secret-h-æ–‡ä»¶" class="headerlink" title="secret.h æ–‡ä»¶"></a>secret.h æ–‡ä»¶</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">extern NSString * const secretKey;</span><br></pre></td></tr></table></figure><h4 id="secret-m-æ–‡ä»¶"><a href="#secret-m-æ–‡ä»¶" class="headerlink" title="secret.m æ–‡ä»¶"></a>secret.m æ–‡ä»¶</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSString * const secretKey = @&quot;nzPHmNrbjuVOO7dX&quot;;</span><br></pre></td></tr></table></figure><p>è¿™æ ·åšçš„ç»“æœæ˜¯ï¼Œå›¾è°‹ä¸è½¨çš„äººåªè¦åˆ©ç”¨åç¼–è¯‘å·¥å…·å°±èƒ½å¤Ÿè½»è€Œæ˜“ä¸¾è·å¾—appä¸­ä»»æ„æ•æ„Ÿä¿¡æ¯ï¼Œå¯¹å…¬å¸åˆ©ç›Šé€ æˆå·¨å¤§æŸå¤±ã€‚æœ‰ä¸å°‘åç¼–è¯‘å·¥å…·å¯ä»¥ä½¿ç”¨ï¼Œä¾‹å¦‚<a href="https://www.jianshu.com/p/10873c5c1e08" target="_blank" rel="noopener">Hopper Disassembler</a>, <a href="https://www.hex-rays.com/products/ida/" target="_blank" rel="noopener">IDA Pro</a>ç­‰å·¥å…·ã€‚</p><h3 id="å¦‚ä½•æœ‰æ•ˆé˜²æ­¢å­—ç¬¦ä¸²æ³„éœ²æ•æ„Ÿä¿¡æ¯"><a href="#å¦‚ä½•æœ‰æ•ˆé˜²æ­¢å­—ç¬¦ä¸²æ³„éœ²æ•æ„Ÿä¿¡æ¯" class="headerlink" title="å¦‚ä½•æœ‰æ•ˆé˜²æ­¢å­—ç¬¦ä¸²æ³„éœ²æ•æ„Ÿä¿¡æ¯"></a>å¦‚ä½•æœ‰æ•ˆé˜²æ­¢å­—ç¬¦ä¸²æ³„éœ²æ•æ„Ÿä¿¡æ¯</h3><p>åŠæ³•è‚¯å®šæœ‰ä¸å°‘ï¼Œæˆ‘è¿™é‡Œåˆ†äº«æˆ‘ä»¬è‡ªå·±åœ¨ç”¨çš„åŠæ³•ã€‚</p><ol><li>åŸºæœ¬æƒ³æ³•å°±æ˜¯é¢„å…ˆé…ç½®å¥½ä¸€ä¸ªå­—ç¬¦è¡¨</li><li>ç„¶åå°†éœ€è¦éšè—çš„æ•æ„Ÿä¿¡æ¯å­—ç¬¦ä¸²ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªå­—ç¬¦ä»è¡¨é‡ŒæŸ¥åˆ°å‡ºç›¸åº”çš„ä½ç½®è®°ä¸‹æ¥</li><li>ç¨‹åºä½¿ç”¨çš„æ—¶å€™è·Ÿç¬¬2æ­¥çš„ä½ç½®ç»„æˆçš„å­—ç¬¦æ•°ç»„ï¼ŒæŠŠå­—ç¬¦ä¸²è¿˜åŸå‡ºæ¥</li></ol><h4 id="ä»£ç åˆ†äº«"><a href="#ä»£ç åˆ†äº«" class="headerlink" title="ä»£ç åˆ†äº«"></a>ä»£ç åˆ†äº«</h4><blockquote><p>ä»£ç åœ¨iOSå’Œandroidä¸¤ä¸ªå¹³å°éƒ½èƒ½å¤Ÿä½¿ç”¨</p></blockquote><h5 id="ç”Ÿæˆå¯†ç è¡¨"><a href="#ç”Ÿæˆå¯†ç è¡¨" class="headerlink" title="ç”Ÿæˆå¯†ç è¡¨"></a>ç”Ÿæˆå¯†ç è¡¨</h5><p>å‡è®¾æˆ‘ä»¬ç°åœ¨é¢„å…ˆé…ç½®çš„å­—ç¬¦è¡¨ä¸º<code>ABCD123456</code></p><p>å…ˆé€šè¿‡è¿™ä¸ªç½‘ç«™<a href="http://www.online-toolz.com/tools/text-hex-convertor.php" target="_blank" rel="noopener">http://www.online-toolz.com/tools/text-hex-convertor.php</a>è·å¾—è¿™ä¸ªå­—ç¬¦ä¸²çš„hex code <code>41424344313233343536</code>ï¼Œç„¶ååœ¨ç¨‹åºä¸­å£°æ˜ä¸€ä¸ªæ•°ç»„<code>hex_table</code>æ¥å­˜å‚¨å®ƒï¼ˆè§ä¸‹é¢çš„ä»£ç ï¼‰</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//PasswordTable.c</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//source string: ABCD123456</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">uint8_t</span> hex_table[TABLE_SIZE] = &#123;</span><br><span class="line">    <span class="number">0x41</span>,<span class="number">0x42</span>,<span class="number">0x43</span>,<span class="number">0x44</span>,<span class="number">0x31</span>,<span class="number">0x32</span>,<span class="number">0x33</span>,<span class="number">0x34</span>,<span class="number">0x35</span>,<span class="number">0x36</span> &#125;;</span><br></pre></td></tr></table></figure><h5 id="æŸ¥è¯¢å¹¶è¾“å‡ºå­—ç¬¦åœ¨å¯†ç è¡¨ä¸­çš„ä½ç½®"><a href="#æŸ¥è¯¢å¹¶è¾“å‡ºå­—ç¬¦åœ¨å¯†ç è¡¨ä¸­çš„ä½ç½®" class="headerlink" title="æŸ¥è¯¢å¹¶è¾“å‡ºå­—ç¬¦åœ¨å¯†ç è¡¨ä¸­çš„ä½ç½®"></a>æŸ¥è¯¢å¹¶è¾“å‡ºå­—ç¬¦åœ¨å¯†ç è¡¨ä¸­çš„ä½ç½®</h5><p>ä½¿ç”¨ä¸‹é¢çš„ä»£ç å¯ä»¥åœ¨<code>console</code>çœ‹åˆ°å¯¹åº”çš„æ•°ç»„ï¼Œå°†å®ƒcopyä¸‹æ¥ï¼Œä¾‹å¦‚æˆ‘ä»¬è¿™é‡Œä¼ å…¥â€™BCD456â€™åç”Ÿæˆå¯¹åº”çš„intæ•°ç»„<code>len = 6 { 1, 2, 3, 7, 8, 9, }</code>ï¼ŒæŠŠè¿™ä¸ªæ•°ç»„è®°ä¸‹æ¥ã€‚<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//PasswordTable.c</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * lookup magic numbers in terms of the given str based </span></span><br><span class="line"><span class="comment"> * on magic table.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">lookupMagics</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> * str, <span class="keyword">size_t</span> str_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"len = %li &#123;"</span>, str_len);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; str_len; j++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; TABLE_SIZE; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (hex_table[i] == str[j]) &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">" %i,"</span>, i);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">" &#125;\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h5 id="ä»å¯†ç è¡¨ç”ŸæˆåŸå­—ç¬¦ä¸²"><a href="#ä»å¯†ç è¡¨ç”ŸæˆåŸå­—ç¬¦ä¸²" class="headerlink" title="ä»å¯†ç è¡¨ç”ŸæˆåŸå­—ç¬¦ä¸²"></a>ä»å¯†ç è¡¨ç”ŸæˆåŸå­—ç¬¦ä¸²</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//PasswordTable.h</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TABLE_SIZE 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> Convert integer array to string based on built-in hex table.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> @param array       integer array.</span></span><br><span class="line"><span class="comment"> @param arr_len     length of the array.</span></span><br><span class="line"><span class="comment"> @param buffer      string buffer for receiving result, make sure it was alloced.</span></span><br><span class="line"><span class="comment"> @param buffer_len  length of the buffer.</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment"> @return            0 success, -1 if buffer_len is less than arr_len.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">convertMagics2String</span><span class="params">(<span class="keyword">int</span> * <span class="built_in">array</span>, <span class="keyword">size_t</span> arr_len, <span class="keyword">char</span> * buffer, <span class="keyword">size_t</span> buffer_len)</span></span>;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//PasswordTable.c</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//source string: ABCD123456</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">uint8_t</span> hex_table[TABLE_SIZE] = &#123;</span><br><span class="line">    <span class="number">0x41</span>,<span class="number">0x42</span>,<span class="number">0x43</span>,<span class="number">0x44</span>,<span class="number">0x31</span>,<span class="number">0x32</span>,<span class="number">0x33</span>,<span class="number">0x34</span>,<span class="number">0x35</span>,<span class="number">0x36</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">convertMagics2String</span><span class="params">(<span class="keyword">int</span> * <span class="built_in">array</span>, <span class="keyword">size_t</span> arr_len, <span class="keyword">char</span> * buffer, <span class="keyword">size_t</span> buffer_len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (buffer_len &lt;= arr_len) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">memset</span>((<span class="keyword">void</span> *)buffer, <span class="number">0</span>, arr_len + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr_len; i++) &#123;</span><br><span class="line">        buffer[i] = hex_table[<span class="built_in">array</span>[i]];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//main.c</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"PasswordTable.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> magics[] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;;<span class="comment">//ä¹‹å‰ç”±è°ƒç”¨lookupMagicsç”Ÿæˆçš„æ•´å½¢æ•°ç»„</span></span><br><span class="line">    <span class="keyword">char</span> str[<span class="number">7</span>];</span><br><span class="line">    convertMagics2String(magics, <span class="number">6</span>, str, <span class="number">7</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"the source string is %s\n"</span>, str); <span class="comment">//å°†ä¼šæ‰“å°: the source string is BCD456</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢ä»£ç ä¸­mainå‡½æ•°çš„ä¾‹å­å°±æ˜¯ä½ åœ¨å®é™…ä»£ç ä¸­çš„æ ·å­ã€‚è¿™æ ·åšäº†ä»¥åï¼Œåç¼–è¯‘å·¥å…·å°±å¾ˆéš¾å¿«é€Ÿå®¹æ˜“åœ°é€šè¿‡å­—ç¬¦ä¸²è·å¾—å…³é”®ä¿¡æ¯äº†ï¼Œé™¤éå¯¹æ–¹å¯¹ä½ çš„ä»£ç æŠ±æœ‰æå¤§çš„å…´è¶£ï¼Œæ„¿æ„èŠ±æ—¶é—´åˆ†æã€‚</p><p>æœ€åå†å¤šè¯´ä¸€ç‚¹ï¼Œä¸ºäº†è¿›ä¸€æ­¥åŠ å¼ºå®‰å…¨æ€§ï¼Œå»ºè®®å¯¹ä»¥ä¸Šcå‡½æ•°è¿›è¡Œæ··æ·†ï¼Œå°†è¿›ä¸€æ­¥åŠ å¤§åç¼–è¯‘åˆ†æçš„éš¾åº¦ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å¯¹æŠ—åç¼–è¯‘ä¹‹ä½¿ç”¨å¯†ç è¡¨æ¥ä¿æŠ¤ä»£ç ä¸­çš„å­—ç¬¦ä¸²&quot;&gt;&lt;a href=&quot;#å¯¹æŠ—åç¼–è¯‘ä¹‹ä½¿ç”¨å¯†ç è¡¨æ¥ä¿æŠ¤ä»£ç ä¸­çš„å­—ç¬¦ä¸²&quot; class=&quot;headerlink&quot; title=&quot;å¯¹æŠ—åç¼–è¯‘ä¹‹ä½¿ç”¨å¯†ç è¡¨æ¥ä¿æŠ¤ä»£ç ä¸­çš„å­—ç¬¦ä¸²&quot;&gt;&lt;/a&gt;å¯¹æŠ—åç¼–è¯‘ä¹‹ä½¿ç”¨å¯†ç è¡¨æ¥ä¿æŠ¤ä»£ç ä¸­çš„å­—ç¬¦ä¸²&lt;/
      
    
    </summary>
    
      <category term="é€†å‘å·¥ç¨‹" scheme="http://gobodigo.com/categories/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B/"/>
    
    
      <category term="iOS" scheme="http://gobodigo.com/tags/iOS/"/>
    
      <category term="android" scheme="http://gobodigo.com/tags/android/"/>
    
      <category term="é€†å‘å·¥ç¨‹" scheme="http://gobodigo.com/tags/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨Fastlaneå’ŒJenkinsæ„å»ºè‡ªåŠ¨æ‰“åŒ…ç³»ç»Ÿ (Part 2)</title>
    <link href="http://gobodigo.com/2018/07/02/jenkins-fastlane-part2/"/>
    <id>http://gobodigo.com/2018/07/02/jenkins-fastlane-part2/</id>
    <published>2018-07-02T02:05:14.000Z</published>
    <updated>2018-07-04T10:00:13.876Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Fastlane-match-ä½¿ç”¨å·²ç»å­˜åœ¨çš„è¯ä¹¦"><a href="#Fastlane-match-ä½¿ç”¨å·²ç»å­˜åœ¨çš„è¯ä¹¦" class="headerlink" title="Fastlane match ä½¿ç”¨å·²ç»å­˜åœ¨çš„è¯ä¹¦"></a>Fastlane match ä½¿ç”¨å·²ç»å­˜åœ¨çš„è¯ä¹¦</h2><p>ç»è¿‡ç¬¬ä¸€éƒ¨åˆ†çš„å­¦ä¹ ï¼Œ<strong>Fastlane</strong>è¿™ä¸ªå·¥å…·ç¡®å®å¾ˆå¥½ç”¨ï¼Œè‡ªåŠ¨ç”Ÿæˆè¯ä¹¦ï¼Œè‡ªåŠ¨æ‰“åŒ…ï¼Œè‡ªåŠ¨ä¼ åˆ°appstoreï¼Œä¸€åˆ‡çœ‹ä¸Šå¾ˆå®Œç¾ã€‚ä½†æ˜¯ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œ<strong>match</strong>æ˜¯ä¸èƒ½å¤Ÿä½¿ç”¨å·²ç»å­˜åœ¨çš„è¯ä¹¦å’Œprovisiong profilesçš„ï¼Œæ¢å¥è¯è¯´å°±æ˜¯æ¯æ¬¡è°ƒç”¨<strong>fastlane match</strong>çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°git repoæ²¡æœ‰å°±ä¼šä¸ºä½ ç”Ÿæˆæ–°çš„ã€‚æ˜¾ç„¶ï¼Œè¿™ä¸ªé™åˆ¶ä¼šè®©å¾ˆå¤šç°æœ‰é¡¹ç›®çš„å¼€å‘è€…æœ›è€Œç”Ÿç•ã€‚å¥½åœ¨ï¼Œæˆ‘ä»¬æœ‰åŠæ³•å¯ä»¥è®©å®ƒæ”¯æŒç°æœ‰è¯ï¼Œä½†æ˜¯è¿™ä¸ªåŠæ³•ç¨å¾®æœ‰ç‚¹éº»çƒ¦ï¼Œå› ä¸ºå®ƒä¸æ˜¯è‡ªåŠ¨çš„ã€‚</p><blockquote><p>å¦‚æœä½ è¿˜æœªäº†è§£ä»€ä¹ˆæ˜¯fastlaneï¼Œè¯·å…ˆé˜…è¯»<a href="http://gobodigo.com/2018/06/23/fastlane-jenkins/">ä½¿ç”¨Fastlaneå’ŒJenkinsæ„å»ºè‡ªåŠ¨æ‰“åŒ…ç³»ç»Ÿ (Part 1)</a></p></blockquote><h3 id="å¯¼å‡ºè¯ä¹¦"><a href="#å¯¼å‡ºè¯ä¹¦" class="headerlink" title="å¯¼å‡ºè¯ä¹¦"></a>å¯¼å‡ºè¯ä¹¦</h3><p>åœ¨æˆ‘ä»¬å¼€å§‹ä½¿ç”¨ç°æœ‰çš„è¯ä¹¦å‰ï¼Œå…ˆå¾—ä¿è¯æ‰€æœ‰éœ€è¦çš„è¯ä¹¦å’Œç§é’¥éƒ½å·²ç»è¢«å¯¼å‡ºå¹¶ä¸”ä¿å­˜åœ¨æœ¬åœ°ã€‚</p><p><strong>é¦–å…ˆ</strong></p><p>æ‰“å¼€<strong>keychain</strong>, é€‰æ‹©è¦å°†è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨çš„è¯ä¹¦ï¼Œç„¶åé€‰æ‹©å¯¼å‡º</p><p><img src="http://ot51d7lis.bkt.clouddn.com/export_cert.png" alt=""></p><p>åœ¨<strong>File Format</strong>é€‰æ‹©å¯¼å‡ºä¸º.ceræ–‡ä»¶ã€‚</p><p><img src="http://ot51d7lis.bkt.clouddn.com/export_dialog.JPG" alt=""></p><p>ç„¶åï¼Œå†æ¬¡é€‰æ‹©å¯¼å‡ºï¼Œåœ¨<strong>File Format</strong>é€‰æ‹©å¯¼å‡ºä¸ºp12å¯¼å‡ºç§é’¥ï¼ˆä¸è¦è®¾ç½®å¯†ç ï¼Œå› ä¸ºå¦‚æœè®¾ç½®äº†å¯†ç åï¼Œfastlaneå°±æ— æ³•å¯¼å…¥ç§é’¥äº†ï¼‰ã€‚</p><p>ä¸‹ä¸€æ­¥å°±æ˜¯å»æŸ¥æ‰¾è¯ä¹¦åœ¨apple developer portalçš„idäº†ï¼ˆåç»­éœ€è¦ä»¥è¿™ä¸ªidæ¥ä¸ºè¯ä¹¦å’Œç§é’¥å‘½åï¼‰ï¼Œä½†æ˜¯è¿™ä¸ªä¿¡æ¯åœ¨ç®¡ç†åå°æ˜¯çœ‹ä¸åˆ°çš„ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå°±éœ€è¦å€ŸåŠ©<strong>fastlane</strong>å†…éƒ¨ç›´æ¥ä½¿ç”¨çš„ä¸€ä¸ªåº“<strong>Spaceship</strong>ã€‚</p><h3 id="ä½¿ç”¨Spaceship"><a href="#ä½¿ç”¨Spaceship" class="headerlink" title="ä½¿ç”¨Spaceship"></a>ä½¿ç”¨Spaceship</h3><p>åœ¨å‘½ä»¤è¡Œè¾“å…¥<code>irb</code>æ‰“å¼€ä¸€ä¸ªäº¤äº’å¼çš„ruby shellç¯å¢ƒã€‚</p><p>ä¹‹åï¼Œè¾“å…¥<code>require &#39;spaceship&#39;</code>å’Œå›è½¦ï¼Œè¿™ä¸ªå‘½ä»¤ä¼šå°†è¿™ä¸ªåº“å¯¼å…¥åˆ°å½“å‰çš„shellç¯å¢ƒä¸­ã€‚æ¥ä¸‹æ¥ï¼Œè¾“å…¥ä¸‹é¢è¿™ä¸ªå‘½ä»¤æ¥ç™»å½•åˆ°apple developer portalï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Spaceship.login</span><br></pre></td></tr></table></figure><p>ç„¶åå°±æ˜¯è·å–è¯ä¹¦ä¿¡æ¯çš„å‘½ä»¤ï¼Œè¿™é‡Œæœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯è·å¾—å…¨éƒ¨çš„ï¼Œå¦å¤–ä¸€ç§æ˜¯æŒ‰ç…§è¯ä¹¦çš„ç±»å‹æ¥è·å–ã€‚</p><p>ç¬¬ä¸€ç§ï¼Œè·å–æ‰€æœ‰è¯ä¹¦ä¿¡æ¯ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Spaceship.certificate.all</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒç§ï¼Œè·å–æŒ‡å®šç±»å‹çš„è¯ä¹¦ä¿¡æ¯ï¼š</p><p><strong>è·å–å¼€å‘è¯ä¹¦</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Spaceship.certificate.development.all</span><br></pre></td></tr></table></figure><p><strong>è·å–å‘å¸ƒè¯ä¹¦</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Spaceship.certificate.production.all</span><br></pre></td></tr></table></figure><p><strong>è¯ä¹¦ä¿¡æ¯ä¾‹å­</strong>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;Spaceship::Portal::Certificate::Development </span><br><span class="line">id=<span class="string">"TB48U5GPM8"</span>, </span><br><span class="line">name=<span class="string">"iOS Development"</span>, </span><br><span class="line">status=<span class="string">"Issued"</span>, </span><br><span class="line">created=2018-06-29 10:35:08 UTC, </span><br><span class="line">expires=2019-06-29 10:25:08 UTC, </span><br><span class="line">owner_type=<span class="string">"teamMember"</span>, </span><br><span class="line">owner_name=<span class="string">"owner name"</span>, </span><br><span class="line">owner_id=<span class="string">"X9EZKD2K8B"</span>, </span><br><span class="line">type_display_id=<span class="string">"6QPB9NHCEX"</span>, </span><br><span class="line">can_download=<span class="literal">true</span>&gt;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‘½ä»¤ä¼šåˆ—å‡ºè¯ä¹¦æ‰€æœ‰çš„ä¿¡æ¯ï¼Œè€Œä¸”å¾ˆæœ‰å¯èƒ½ä¼šè¿”å›å¤šä¸ªè¯ä¹¦ã€‚è¿™ä¸ªæ—¶å€™ï¼Œä½ éœ€è¦ä»”ç»†å°†å…¶ä¸æœ¬åœ°è¯ä¹¦çš„æ—¶é—´å’Œè¿‡æœŸå¯¹æ¯”ï¼Œä¸€è‡´çš„å°±æ˜¯ä½ è¦æ‰¾çš„è¯ä¹¦ä¿¡æ¯ã€‚å½“ä½ æ‰¾åˆ°åŒ¹é…çš„ï¼Œå°±ä»¥è¯ä¹¦ä¿¡æ¯çš„idæ¥å‘½åæœ¬åœ°ä¿å­˜çš„ç›¸åº”çš„è¯ä¹¦å’Œç§é’¥ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å°†è¯ä¹¦pushåˆ°matchä½¿ç”¨çš„git repoä¸Šã€‚</p><h3 id="Push-è¯ä¹¦å’ŒProvision"><a href="#Push-è¯ä¹¦å’ŒProvision" class="headerlink" title="Push è¯ä¹¦å’ŒProvision"></a>Push è¯ä¹¦å’ŒProvision</h3><p>åœ¨å‘½ä»¤è¡Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤æ¥å‡†å¤‡ä¸€äº›éœ€è¦ç”¨åˆ°çš„å˜é‡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">irb(main):004:0&gt; require <span class="string">'match'</span></span><br><span class="line">=&gt; <span class="literal">true</span></span><br><span class="line">irb(main):005:0&gt; git_url=<span class="string">'git@github.com:path-to/the-encrypted-certs-repo.git'</span></span><br><span class="line">=&gt; <span class="string">"git@github.com:path-to/the-encrypted-certs-repo.git"</span></span><br><span class="line">irb(main):006:0&gt; shallow_clone = <span class="literal">false</span></span><br><span class="line">=&gt; <span class="literal">false</span></span><br><span class="line">irb(main):007:0&gt; manual_password = <span class="string">'password-to-decrypt-the-repo'</span></span><br><span class="line">=&gt; <span class="string">"password-to-decrypt-the-repo"</span></span><br><span class="line">irb(main):008:0&gt;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŠŠå­˜æ”¾è¯ä¹¦çš„git repoç»™cloneä¸‹æ¥å¹¶ä¸”è§£å¯†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">irb(main):005:0&gt; workspace = Match::GitHelper.clone(git_url, shallow_clone, manual_password: manual_password)</span><br><span class="line">[21:17:30]: Cloning remote git repo...</span><br><span class="line">[21:17:31]: ğŸ”“  Successfully decrypted certificates repo</span><br><span class="line">=&gt; <span class="string">"/var/folders/5s/5cgmqxkx4fx6bllwgp1y5dlh000gp/T/d2018-0411-3701-148akjh"</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‘½ä»¤å°†repo cloneåˆ°äº†<code>/var/folders/...</code>æ‰“å¼€å®ƒã€‚ç„¶ååœ¨è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œé¢ï¼Œæ ¹æ®è¯ä¹¦çš„ç±»å‹æ¥åˆ›å»ºä¸åŒçš„æ–‡ä»¶å¤¹ï¼š</p><ul><li>å¦‚æœåˆ›å»ºå¼€å‘è¯ä¹¦ï¼Œåˆ™æ”¾åˆ°<code>certs/development</code>é‡Œé¢</li><li>å¦‚æœæ˜¯å‘å¸ƒè¯ä¹¦ï¼Œåˆ™æ”¾åˆ°<code>certs/distribution</code>é‡Œé¢</li></ul><p>å°†è¯ä¹¦å’Œç§é’¥éƒ½è¦å¯¹åº”æ”¾åˆ°ä¸Šè¿°çš„æ–‡ä»¶å¤¹é‡Œé¢ã€‚</p><p>æœ€åæ¥å¤„ç†<strong>provision profiles</strong>ï¼Œé¦–å…ˆä½ å¾—ä»<strong>Apple developer portal</strong>ä¸‹è½½æ‰€éœ€è¦çš„<strong>provision profiles</strong>ã€‚ä¸‹è½½å®Œæˆåï¼Œæ ¹æ®ä¸åŒçš„ç±»å‹æ”¾å…¥ä¸åŒçš„æ–‡ä»¶å¤¹ï¼Œè§„åˆ™å¦‚ä¸‹ï¼š</p><ul><li><strong>adhoc</strong>: <code>profiles/adhoc/AdHoc_&lt;appbundleid&gt;.mobileprovision</code></li><li><strong>appstore</strong>: <code>profiles/appstore/AppStore_&lt;appbundleid&gt;.mobileprovision</code></li><li><strong>development</strong>: <code>profiles/development/Development_&lt;appbundleid&gt;.mobileprovision</code></li></ul><p>åšå®Œè¿™äº›åï¼Œç°åœ¨æˆ‘ä»¬æ¥æŠŠè¯ä¹¦å’Œprovision profilesæ¨åˆ°git repoä¸Šå»å§ã€‚æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">irb(main):006:0&gt; Match::GitHelper.commit_changes(workspace, <span class="string">"add certificate, private key and provisioning profiles"</span>, git_url)</span><br></pre></td></tr></table></figure><p>å¤§åŠŸå‘Šæˆã€‚ç°åœ¨ä½ åº”è¯¥å¯ä»¥é€šè¿‡<strong>fastlane</strong>å‘½ä»¤æ¥å®‰è£…è¯ä¹¦å’Œprovision profilesäº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastlane match development --<span class="built_in">readonly</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Fastlane-match-ä½¿ç”¨å·²ç»å­˜åœ¨çš„è¯ä¹¦&quot;&gt;&lt;a href=&quot;#Fastlane-match-ä½¿ç”¨å·²ç»å­˜åœ¨çš„è¯ä¹¦&quot; class=&quot;headerlink&quot; title=&quot;Fastlane match ä½¿ç”¨å·²ç»å­˜åœ¨çš„è¯ä¹¦&quot;&gt;&lt;/a&gt;Fastlane match
      
    
    </summary>
    
      <category term="iOS" scheme="http://gobodigo.com/categories/iOS/"/>
    
    
      <category term="iOS" scheme="http://gobodigo.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨Fastlaneå’ŒJenkinsæ„å»ºè‡ªåŠ¨æ‰“åŒ…ç³»ç»Ÿ (Part 1)</title>
    <link href="http://gobodigo.com/2018/06/23/fastlane-jenkins/"/>
    <id>http://gobodigo.com/2018/06/23/fastlane-jenkins/</id>
    <published>2018-06-23T14:30:11.000Z</published>
    <updated>2018-06-25T05:38:59.396Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å‘è¿™ç¯‡åšæ–‡çš„ç›®çš„ä¸»è¦æ˜¯æ€»ç»“ä¸€äº›åœ¨ä½¿ç”¨fastlaneè¿‡ç¨‹é‡åˆ°çš„å‘ï¼Œé¡ºä¾¿åæ§½ä¸€ä¸‹Fastlaneå®˜æ–¹ç½‘ç«™ï¼šå†™çš„å¥½é£˜é€¸ï¼Œå¯¹äºæ–°æ‰‹æ¥è¯´ä¸çœ‹å‡ éä¸è¯•å‡ æ¬¡ï¼Œå®Œå…¨ä¸çŸ¥åˆ°æ•´ä¸ªä½“ç³»æ˜¯å¦‚ä½•çš„ã€‚ã€‚ã€‚æœ€åæˆ‘å¸Œæœ›èƒ½å¤Ÿå¸®åŠ©çœ‹åˆ°è¿™ç¯‡æ–‡ç« çš„ä½ :]</p></blockquote><h2 id="Fastlane"><a href="#Fastlane" class="headerlink" title="Fastlane"></a>Fastlane</h2><p><img src="https://docs.fastlane.tools/img/fastlane_text.png" alt=""></p><p><strong>Fastlane</strong>æ˜¯ä¸€ç§èƒ½å¤Ÿå°†iOSå’Œandroidå¹³å°betaæµ‹è¯•æˆ–è€…æ­£å¼å‘å¸ƒå®Œå…¨è‡ªåŠ¨åŒ–çš„å·¥å…·ï¼Itâ€™s amazing dude! å®ƒèƒ½å¤Ÿåšçš„äº‹æƒ…æœ‰ï¼š</p><ul><li>ç”Ÿæˆåº”ç”¨å•†åº—éœ€è¦çš„æ‰€æœ‰æˆªå›¾ (æœ¬åœ°åŒ–çš„æˆªå›¾ï¼å¯ä»¥æ ¹æ®éœ€è¦ä¸ºå„ç§è¯­è¨€ç”Ÿæˆï¼‰</li><li>å¤„ç†æ‰“åŒ…æ—¶å€™çš„ç­¾å</li><li>å‘å¸ƒåº”ç”¨åˆ°å•†åº—</li></ul><p>æˆ‘ä»¬æ¥ä¸‹æ¥ä»¥iOSä¸ºä¾‹è®²è§£å¦‚ä½•ä½¿ç”¨fastlaneæ‰“åŒ…iOS app</p><h3 id="fastlaneåˆå§‹åŒ–é…ç½®"><a href="#fastlaneåˆå§‹åŒ–é…ç½®" class="headerlink" title="fastlaneåˆå§‹åŒ–é…ç½®"></a>fastlaneåˆå§‹åŒ–é…ç½®</h3><p>è¯¦ç»†çš„setupæ­¥éª¤è¿™é‡Œä¸èµ˜è¿°ï¼Œå¤§å®¶å¯ä»¥åˆ°<a href="https://docs.fastlane.tools/getting-started/ios/setup/" target="_blank" rel="noopener">Getting started with fastlane for iOS</a>æŸ¥çœ‹ã€‚</p><p>æ ¹æ®æ–‡æ¡£ï¼Œå®‰è£…å®Œfastlaneåï¼Œé…ç½®å·¥ç¨‹çš„ç¬¬ä¸€ä¸ªå‘½ä»¤æ˜¯(è¿™é‡Œä¸å»ºè®®ä½¿ç”¨swiftç‰ˆæœ¬çš„initï¼Œä¸€ä¸ªæ˜¯ç›®å‰æ˜¯betaç‰ˆæœ¬ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯å½“å‰èƒ½æŸ¥åˆ°çš„èµ„æ–™éƒ½æ˜¯ä»¥<a href="https://www.martinfowler.com/articles/rake.html" target="_blank" rel="noopener">ruby DSL</a>æ¥è¯´æ˜çš„):</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastlane init</span><br></pre></td></tr></table></figure><p>è¿è¡Œè¿™ä¸ªå‘½ä»¤ä¹‹åï¼Œä¼šçœ‹åˆ°å‘½ä»¤è¡Œå‡ºç°äº¤äº’å¼æé—®ï¼Œç¬¬ä¸€ä¸ªé—®é¢˜ç»å¸¸æ˜¯é—®ä½ æƒ³ç”¨fastlane æ¥å¹²å˜›ï¼Ÿ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. ğŸ“¸  Automate screenshots (è‡ªåŠ¨åŒ–appstore æœ¬åœ°åŒ–æˆªå›¾)</span><br><span class="line">2. ğŸ‘©â€âœˆï¸  Automate beta distribution to TestFlight (è‡ªåŠ¨åŒ–å‘å¸ƒbetaæµ‹è¯•appåˆ°test flight)</span><br><span class="line">3. ğŸš€  Automate App Store distribution (appstore å‘å¸ƒè‡ªåŠ¨åŒ–)</span><br><span class="line">4. ğŸ›   Manual setup - manually setup your project to automate your tasks (æ‰‹åŠ¨é…ç½®è‡ªå·±çš„å·¥ç¨‹)</span><br></pre></td></tr></table></figure><p>å¦‚æœæ‚¨çš„appæœ‰å¤šä¸ªtargetæˆ–è€…æ²¡æœ‰æ‰¾åˆ°è·Ÿworkspaceåå­—ä¸€æ ·çš„schemeï¼Œfastlaneä¼šæç¤ºè¾“å…¥bundle idï¼Œç„¶åä¼šæç¤ºè¾“å…¥apple idåŠå…¶å¯†ç ï¼Œå¦‚æœapple idåœ¨å¤šä¸ªteamè¿˜ä¼šæç¤ºé€‰æ‹©teamç­‰ç­‰ï¼Œæ€»ä¹‹é—®é¢˜é—®å®Œï¼Œä½ çš„åˆå§‹é…ç½®ä¹Ÿå°±å®Œæˆäº†ã€‚</p><p>é…ç½®å®Œåï¼Œä¼šåœ¨æ‚¨çš„å·¥ç¨‹ä¸‹é¢ç”Ÿæˆä¸€ä¸ªåä¸º<strong>fastlane</strong>çš„æ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹å°±æ˜¯æ‰€æœ‰fastlaneçš„é…ç½®æ‰€åœ¨äº†ã€‚æ–‡ä»¶å¤¹ä¼šåŒ…å«ä¸¤ä¸ªæ–‡ä»¶:</p><ul><li>Appfile: ç”¨æ¥å­˜å‚¨åœ¨ä½¿ç”¨fastlaneè¿‡ç¨‹ä¸­æ‰€éœ€è¦çš„æœ‰ç”¨ä¿¡æ¯ï¼Œä¾‹å¦‚apple idï¼Œbundle idç­‰</li><li>Fastfile: fastlaneç¼–è¯‘ä»¥åŠå‘å¸ƒçš„æ ¸å¿ƒæ–‡ä»¶ï¼Œæ‰€æœ‰éœ€è¦è‡ªåŠ¨ç¼–è¯‘é…ç½®çš„ä»£ç éƒ½æ”¾åˆ°è¿™ä¸ªæ–‡ä»¶é‡Œé¢</li></ul><h3 id="Fastfile"><a href="#Fastfile" class="headerlink" title="Fastfile"></a>Fastfile</h3><p>ç°åœ¨é‡ç‚¹è®²ä¸€ä¸‹å¦‚ä½•é…ç½®<strong>Fastfile</strong>ã€‚åˆå§‹åŒ–å®Œåï¼Œfastlaneä¼šè‡ªåŠ¨ä¸ºå·¥ç¨‹ç”Ÿæˆå¦‚ä¸‹ä»£ç åœ¨<strong>fastfile</strong>é‡Œé¢(æˆ‘åœ¨åˆå§‹åŒ–çš„æ—¶å€™é€‰æ‹©çš„æ˜¯ç¬¬3é¡¹â€“appstoreå‘å¸ƒè‡ªåŠ¨åŒ–ï¼Œå¦‚æœé€‰æ‹©åˆ«çš„é€‰é¡¹å¯èƒ½ä¼šä¸ä¸‹é¢çš„ä¾‹å­æœ‰ç¨å¾®ä¸åŒ)ã€‚</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">platform <span class="symbol">:ios</span> <span class="keyword">do</span></span><br><span class="line">  desc <span class="string">"Push a new release build to the App Store"</span></span><br><span class="line">  lane <span class="symbol">:release</span> <span class="keyword">do</span></span><br><span class="line">    build_app(<span class="symbol">workspace:</span> <span class="string">"Spacename.xcworkspace"</span>, <span class="symbol">scheme:</span> <span class="string">"SchemeName"</span>)</span><br><span class="line">    upload_to_app_store(<span class="symbol">skip_metadata:</span> <span class="literal">true</span>, <span class="symbol">skip_screenshots:</span> <span class="literal">true</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><ul><li>platform: å‘Šè¯‰fastlaneæ˜¯å“ªä¸ªå¹³å°ã€‚</li><li>desc: æ³¨è§£ã€‚ä¸€èˆ¬æ”¾åˆ°æ¯ä¸ªlaneä¹‹å‰ä¸€è¡Œç”¨äºè§£é‡Šè¿™ä¸ªlaneçš„ä½œç”¨</li><li>lane: ç®€å•æ¥è®²å°±æ˜¯ä¸€ä¸ªä»»åŠ¡çš„é…ç½®ï¼Œæ¯”å¦‚å‘å¸ƒåˆ°test flightç®—ä¸€ä¸ªä»»åŠ¡ï¼Œæ‰“å†…éƒ¨æµ‹è¯•AdhocåŒ…ç­‰ã€‚lane åé¢è·Ÿç€çš„æ˜¯å†’å·åŠ ä»»åŠ¡åç§°ï¼Œå¦‚ä¸Šä»£ç ï¼š :release, è¿™æ ·ä½ å°±å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸‹é¢è¾“å…¥å¦‚ä¸‹å‘½ä»¤å°±å¯ä»¥æ‰§è¡Œè¿™ä¸ªä»»åŠ¡äº†ï¼š</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastlane release</span><br></pre></td></tr></table></figure><ul><li>laneçš„bodyé‡Œé¢èƒ½å¤Ÿä½¿ç”¨çš„å‘½ä»¤éƒ½å«åšactionï¼Œèƒ½è°ƒç”¨çš„<a href="https://docs.fastlane.tools/actions" target="_blank" rel="noopener">actions</a>å®˜æ–¹å·²ç»å¸®æˆ‘ä»¬åˆ—å‡ºæ¥äº†ï¼Œè€Œä¸”æ¯ä¸ªactionéƒ½æœ‰è¯¦ç»†çš„æ–‡æ¡£ã€‚ä¾‹å­ä¸­çš„ä»»åŠ¡ä¸€çœ¼å°±èƒ½çœ‹å‡ºæ¥æ˜¯åšä»€ä¹ˆï¼šç¼–è¯‘åä¸º<strong>Spacename.xcworkspace</strong>ï¼Œschemeä¸º<strong>SchemeName</strong>çš„å·¥ç¨‹ï¼Œç¼–è¯‘å®Œåä¸Šä¼ åˆ°app storeï¼ˆè·³è¿‡ä¸Šä¼ meta dataå’Œscreenshotsï¼‰</li></ul><blockquote><p>è¯»è€…å¯ä»¥äº²æ‰‹è¯•ä¸€è¯•ï¼Œè®²workspaceå’Œschemeæ”¹ä¸ºè‡ªå·±å·¥ç¨‹çš„åå­—ï¼Œç„¶ååœ¨å‘½ä»¤è¡Œè¿è¡Œfastlane releaseï¼Œä¹‹åå¦‚æœç¼–è¯‘æ²¡æœ‰å¤±è´¥å¹¶ä¸”itunes connectè¿æ¥å’ŒéªŒè¯æˆåŠŸçš„è¯ï¼Œæ‚¨ä¼šçœ‹åˆ°ipaåŒ…å·²ç»æˆåŠŸçš„ä¼ åˆ°äº†itunes connectçš„åå°äº†ã€‚æ€ä¹ˆæ ·ï¼Ÿå¾ˆå‰å®³å§ï¼Œå°±2è¡Œä»£ç å°±æå®šäº†ç¼–è¯‘ï¼Œæ‰“åŒ…ï¼Œä¸Šä¼ åˆ°appstoreè¿™ç§å¹³æ—¶ç¹æ‚çš„ä»»åŠ¡ï¼</p></blockquote><p>ç­‰ç­‰ï¼Œæˆ‘ä»¬å¥½åƒæ¼äº†ä»€ä¹ˆã€‚å¯¹ï¼Œæœ€é‡è¦çš„ç¨‹åºç­¾åï¼</p><h3 id="Fastlane-match"><a href="#Fastlane-match" class="headerlink" title="Fastlane match"></a>Fastlane match</h3><p>ä»€ä¹ˆæ˜¯Fastlane match? Fastlane matchä¸ä»…ä»…æ˜¯åœ¨é…ç½®fastlaneè‡ªåŠ¨æ‰“åŒ…æ—¶å€™éœ€è¦ç”¨åˆ°ï¼Œè€Œä¸”æå¤§åœ°ç®€åŒ–äº†åœ¨ä¸€ä¸ªå¼€å‘å›¢é˜Ÿä¸­å…±äº«è¯ä¹¦å’Œprovisioning profilesçš„æµç¨‹ï¼</p><ul><li>é¡¹ç›®ç»„ä¸­æ¯æ¥ä¸€ä¸ªæ–°æˆå‘˜ï¼Œæ˜¯ä¸æ˜¯éƒ½è¦èŠ±æ—¶é—´ä¸ºæ–°æˆå‘˜é…ç½®è¯ä¹¦ï¼Œå¹¶ä¸”æŠŠä»–åŠ å…¥åˆ°ç›¸åº”é¡¹ç›®çš„provisioning profilesé‡Œé¢ï¼Ÿå¦‚æœé¡¹ç›®ä¼—å¤šï¼Œæ˜¯ä¸æ˜¯ç®¡ç†çš„ä¸€åœºå™©æ¢¦ï¼Ÿæƒ³è¦ç®€åŒ–å—ï¼Ÿå¿«ä½¿ç”¨<strong>Fastlane match</strong>!</li><li>è¿æ¥åˆ°è‹¹æœæœåŠ¡å™¨å¾ˆæ…¢ï¼Œä¸‹è½½provisioning profileå¾ˆæ…¢ï¼æƒ³æ¯æ¬¡éƒ½ä¸‹è½½å¿«å—ï¼Ÿå¿«ä½¿ç”¨<strong>Fastlane match</strong>!</li><li>æƒ³åœ¨å›¢é˜Ÿä¸­æ–¹ä¾¿çš„ä½¿ç”¨ä¸ªäººå¼€å‘è€…è¯ä¹¦ï¼Œè€Œä¸ç”¨æ‹·æ¥æ‹·å»å—ï¼Ÿå¿«ä½¿ç”¨<strong>Fastlane match</strong>!</li><li>é¡¹ç›®ç»„æœ‰æ–°è®¾å¤‡åï¼Œå¿«ä½¿ç”¨<strong>Fastlane match</strong>! ä¸€é”®æå®šï¼</li></ul><p>è¯´äº†é‚£ä¹ˆå¤šå¥½å¤„ï¼Œå’±ä»¬æ¥çœ‹çœ‹æ€ä¹ˆç”¨ï¼é¦–å…ˆåœ¨å·¥ç¨‹æ‰€åœ¨æ–‡ä»¶å¤¹è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼ˆç¡®ä¿åœ¨è¿è¡Œä¹‹å‰å…ˆè¿è¡Œè¿‡fastlane initå‘½ä»¤ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastlane match init</span><br></pre></td></tr></table></figure><p>è¿è¡Œå®Œåï¼Œfastlaneä¼šé—®ç”¨æ¥å­˜å‚¨å·¥ç¨‹çš„è¯ä¹¦å’Œprovisioning profilesçš„Git repoçš„URLæ˜¯ä»€ä¹ˆï¼Ÿæ‰€ä»¥ï¼Œé©¬ä¸Šå»Githubæˆ–è€…Gitlabä¸Šåˆ›å»ºä¸€ä¸ªå»å§ï¼</p><p><strong>æ³¨æ„ï¼ï¼ï¼</strong></p><ul><li>æ‰€æœ‰ä¼ åˆ°æŒ‡å®šgit repoçš„è¯ä¹¦å’Œprovisioning profileså°†ä¼šè¢«fastlaneä½¿ç”¨OpenSSLæ¥åŠ å¯†å­˜å‚¨çš„ã€‚</li><li>ä½ å¿…é¡»å¯¹æ›¾git repoæœ‰å®Œå…¨çš„æ§åˆ¶æƒåŠ›ã€‚æœ€å¥½ä¿è¯ä½ æ‰€ä½¿ç”¨çš„git repoæ˜¯ç§æœ‰çš„å¹¶ä¸”ä½¿ç”¨å®‰å…¨çš„ç§é’¥ã€‚</li><li>å³ä½¿ä½ çš„è¯ä¹¦æ³„éœ²äº†ï¼Œåœ¨ä¸çŸ¥é“ä½ çš„itunes connectè´¦å·çš„æƒ…å†µä¸‹å¹¶ä¸èƒ½å¯¹ä½ é€ æˆä¼¤å®³</li><li>å¦‚æœä½ ä½¿ç”¨Git hubæˆ–è€…Bitbucktï¼Œå»ºè®®ä½ ä½¿ç”¨å¼€å¯ä¸¤æ­¥éªŒè¯çš„itunes connectè´¦å·æ¥ä½œä¸ºmatchè¿æ¥æ—¶ç”¨çš„è´¦å·</li></ul><p>è·Ÿéšç€æ‰€æœ‰æç¤ºåšå®Œåä¼šåœ¨fastlaneæ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆä¸€ä¸ªå«åš<strong>Matchfile</strong>çš„æ–‡ä»¶ï¼Œåˆå§‹çš„æ–‡ä»¶å†…å®¹ä¸ä¸‹é¢ç±»ä¼¼ï¼š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">git_url(<span class="string">"git@xxx/certificates.git"</span>)</span><br><span class="line"></span><br><span class="line">type(<span class="string">"development"</span>) <span class="comment"># The default type, can be: appstore, adhoc, enterprise or development</span></span><br><span class="line"></span><br><span class="line">app_identifier([<span class="string">"bundle identifier 1"</span>, <span class="string">"bundle identifier 2"</span>])</span><br><span class="line"><span class="comment">#username("xxx<span class="doctag">@xxx</span>.com") # Your Apple Developer Portal username</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># For all available options run `fastlane match --help`</span></span><br><span class="line"><span class="comment"># Remove the # in the beginning of the line to enable the other options</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#match(app_identifier: ["bundle identifier 1", "bundle identifier 2"], type: "adhoc")</span></span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–å®Œåï¼Œå°±åˆ°ä¸ºå·¥ç¨‹ç”Ÿæˆè¯ä¹¦å’Œprovisioning profilesäº† ï¼Œï¼ˆå¦‚æœä¸æ˜¯æ–°é¡¹ç›®ï¼Œæƒ³åˆ©ç”¨å·²ç»å­˜åœ¨çš„è¯ä¹¦æ€ä¹ˆåŠï¼Ÿè¿™éƒ¨åˆ†ä¹Ÿæœ‰è§£å†³æ–¹æ¡ˆï¼Œæˆ‘æ‰“ç®—æ”¾åˆ°part 2çš„æ—¶å€™å†è®²ï¼‰è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå°±ä¼šä¸ºå·¥ç¨‹ç”Ÿæˆdevelopmentè¯ä¹¦å’Œç›¸åº”çš„provisiong profileï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastlane match development</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€æ¬¡è¿è¡Œè¿™ä¸ªå‘½ä»¤ä¼šæç¤ºè¯·è¾“å…¥passphaseï¼Œè¿™ä¸ªpassphaseå°±æ˜¯ç”¨æ¥åŠ å¯†è¯ä¹¦å’Œprovisioning profilesç”¨çš„ã€‚</p><p><strong>æ³¨æ„</strong>: è¿è¡Œä»¥ä¸Šå‘½ä»¤,å¦‚æœå‘ç°æ²¡æœ‰ç›¸åº”çš„è¯ä¹¦å’Œprovisiong profileså°±ä¼šç”Ÿæˆæ–°çš„è¯ä¹¦å’Œprovisioning profilesï¼Œæ‰€ä»¥è¯·æ…ç”¨ï¼</p><p>æ¥ä¸‹æ¥ï¼Œå¦‚æœæƒ³åœ¨ä¸€å°æ–°çš„æœºå™¨ä¸Šå®‰è£…è¯¥å·¥ç¨‹çš„è¯ä¹¦å°±å¯ä»¥è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fastlane match development --readonly</span><br></pre></td></tr></table></figure><p>åŠ ä¸Š<strong>â€“readonly</strong>å°±èƒ½ä¿è¯ä¸ä¼šç”Ÿæˆæ–°çš„ï¼Œè€Œä»…ä»…åªæ˜¯æ‰§è¡Œå®‰è£…è€Œå·²ã€‚é™¤äº†development,æˆ‘ä»¬è¿˜èƒ½æŒ‡å®šadhoc, appstore, enterpriseç­‰å‚æ•°æ¥ç”Ÿæˆä¸åŒåœºæ™¯çš„è¯ä¹¦ã€‚</p><p>ç”Ÿæˆçš„è¯ä¹¦å’Œprovisioning profileséƒ½ä¼šè¢«åŠ å¯†æ”¾åˆ°åˆå§‹åŒ–matchæ—¶æŒ‡å®šçš„git repoä¸­ï¼Œè¿™æ ·å½“ä½¿ç”¨<strong>fastlane match development</strong>æˆ–è€…<strong>fastlane match development â€“readonly</strong>çš„æ—¶å€™ï¼Œfastlaneä¼šç¬¬ä¸€æ—¶é—´ä»æŒ‡å®šçš„git repoä¸­å»å¯»æ‰¾å¹¶å®‰è£…ï¼Œæ‰€ä»¥ä¸éœ€è¦ç»è¿‡è‹¹æœæœåŠ¡å™¨ã€‚å¦‚æœgit repoæ˜¯è‡ªå·±å…¬å¸æœåŠ¡å™¨çš„ï¼Œé‚£å°±æ›´å¿«äº†:]ã€‚</p><p>å¦‚æœæƒ³ä¸€å£æ°”è£…ä¸Šæ‰€éœ€è¦çš„è¯ä¹¦å’Œprovisioning profiles, é‚£ä¹ˆå¯ä»¥å†™ä¸€ä¸ªè„šæœ¬æ¥å®Œæˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line"><span class="meta">#</span><span class="bash">install appstore development profiles and cert</span></span><br><span class="line">fastlane match development --readonly</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">uncomment below lines <span class="keyword">if</span> you need install other types of certs</span></span><br><span class="line"><span class="meta">#</span><span class="bash">fastlane match adhoc --<span class="built_in">readonly</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash">fastlane match appstore --<span class="built_in">readonly</span></span></span><br></pre></td></tr></table></figure><p>å°†è„šæœ¬ä¼ åˆ°å·¥ç¨‹gitä¸Šï¼Œè¿™æ ·åªè¦æœ‰æ–°æœºå™¨ï¼Œå°±è¿è¡Œä¸€ä¸‹è¿™ä¸ªè„šæœ¬å°±å…¨éƒ¨è£…ä¸Šäº†ã€‚</p><h4 id="åœ¨Fastfileä¸­ä½¿ç”¨match"><a href="#åœ¨Fastfileä¸­ä½¿ç”¨match" class="headerlink" title="åœ¨Fastfileä¸­ä½¿ç”¨match"></a>åœ¨Fastfileä¸­ä½¿ç”¨match</h4><p>é…ç½®å¥½matchåï¼Œå¦‚ä½•åœ¨fastfileä¸­ä½¿ç”¨å‘¢ï¼Ÿå…¶å®å¾ˆç®€å•ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">platform <span class="symbol">:ios</span> <span class="keyword">do</span></span><br><span class="line">  desc <span class="string">"Push a new release build to the App Store"</span></span><br><span class="line">  lane <span class="symbol">:release</span> <span class="keyword">do</span></span><br><span class="line">  sync_code_signing</span><br><span class="line">    build_app(<span class="symbol">workspace:</span> <span class="string">"Spacename.xcworkspace"</span>, <span class="symbol">scheme:</span> <span class="string">"SchemeName"</span>)</span><br><span class="line">    upload_to_app_store(<span class="symbol">skip_metadata:</span> <span class="literal">true</span>, <span class="symbol">skip_screenshots:</span> <span class="literal">true</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure><p>åªéœ€è¦åœ¨ç¼–è¯‘ä¹‹å‰è°ƒç”¨sync_code_signingå³å¯ï¼</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å‘è¿™ç¯‡åšæ–‡çš„ç›®çš„ä¸»è¦æ˜¯æ€»ç»“ä¸€äº›åœ¨ä½¿ç”¨fastlaneè¿‡ç¨‹é‡åˆ°çš„å‘ï¼Œé¡ºä¾¿åæ§½ä¸€ä¸‹Fastlaneå®˜æ–¹ç½‘ç«™ï¼šå†™çš„å¥½é£˜é€¸ï¼Œå¯¹äºæ–°æ‰‹æ¥è¯´ä¸çœ‹å‡ éä¸è¯•å‡ æ¬¡ï¼Œå®Œå…¨ä¸çŸ¥åˆ°æ•´ä¸ªä½“ç³»æ˜¯å¦‚ä½•çš„ã€‚ã€‚ã€‚æœ€åæˆ‘å¸Œæœ›èƒ½å¤Ÿå¸®åŠ©çœ‹åˆ°è¿™ç¯‡æ–‡ç« çš„ä½ :]&lt;/p&gt;
&lt;/blockquot
      
    
    </summary>
    
      <category term="iOS" scheme="http://gobodigo.com/categories/iOS/"/>
    
    
      <category term="iOS" scheme="http://gobodigo.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>æ•æ·è®¾è®¡ä¹‹SOLIDåŸåˆ™</title>
    <link href="http://gobodigo.com/2017/08/24/agile-desgin/"/>
    <id>http://gobodigo.com/2017/08/24/agile-desgin/</id>
    <published>2017-08-24T07:38:11.000Z</published>
    <updated>2018-07-16T04:36:53.792Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ•æ·è®¾è®¡ä¹‹SOLIDåŸåˆ™"><a href="#æ•æ·è®¾è®¡ä¹‹SOLIDåŸåˆ™" class="headerlink" title="æ•æ·è®¾è®¡ä¹‹SOLIDåŸåˆ™"></a>æ•æ·è®¾è®¡ä¹‹SOLIDåŸåˆ™</h2><h3 id="æŠŠæ¡æ‰€å­¦ä¸œè¥¿çš„æœ¬è´¨"><a href="#æŠŠæ¡æ‰€å­¦ä¸œè¥¿çš„æœ¬è´¨" class="headerlink" title="æŠŠæ¡æ‰€å­¦ä¸œè¥¿çš„æœ¬è´¨"></a>æŠŠæ¡æ‰€å­¦ä¸œè¥¿çš„æœ¬è´¨</h3><p>åœ¨è®¨è®ºSOLIDåŸåˆ™ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦æ˜ç¡®ä¸€ç‚¹ï¼Œå°±æ˜¯è¿™ä¸ªè§„åˆ™æ˜¯ä¸ºäº†è§£å†³ä»€ä¹ˆé—®é¢˜è€Œè¢«å‘æ˜å‡ºæ¥çš„ã€‚åªæœ‰å¼„æ¸…æ¥šè¿™ä¸€ç‚¹ï¼Œæ‰èƒ½å¤Ÿåœ¨å®é™…å·¥ä½œä¸­æ­£ç¡®åº”ç”¨ã€‚ä¸¾ä¸ªæ —å­å§ï¼Œæ¯”å¦‚ä¸ºä»€ä¹ˆè¦é‡‡ç”¨MVCï¼Ÿæ•™ç§‘ä¹¦èˆ¬çš„å›ç­”å°±æ˜¯MVCå°±æ˜¯Model-View-Controllerï¼Œç„¶åå°†Model,Viewå’ŒControllerå„è‡ªæŒ‰ç…§æ•™ç§‘ä¹¦è¯´ä¸€éã€‚ä½ è§‰å¾—ä½ çœŸçš„ç†è§£ä¸ºä»€ä¹ˆè¦ç”¨MVCäº†å—ï¼Ÿä¸¾ä¸ªç®€å•çš„ä¾‹å­è¯´æ˜éMVCæ˜¯ä»€ä¹ˆæ ·çš„å§ï¼Ÿ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;%</span><br><span class="line">set conn=Server.CreateObject(<span class="string">"ADODB.Connection"</span>)</span><br><span class="line">conn.Provider=<span class="string">"Microsoft.Jet.OLEDB.4.0"</span></span><br><span class="line">conn.Open(Server.Mappath(<span class="string">"/db/northwind.mdb"</span>))</span><br><span class="line">set rs = Server.CreateObject(<span class="string">"ADODB.recordset"</span>)</span><br><span class="line">rs.Open <span class="string">"Select * from Customers"</span>, conn</span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span> until rs.EOF</span><br><span class="line">    <span class="keyword">for</span> each x <span class="keyword">in</span> rs.Fields</span><br><span class="line">       Response.Write(x.name)</span><br><span class="line">       Response.Write(<span class="string">" = "</span>)</span><br><span class="line">       Response.Write(x.value &amp; <span class="string">"&lt;br&gt;"</span>) </span><br><span class="line">    next</span><br><span class="line">    Response.Write(<span class="string">"&lt;br&gt;"</span>)</span><br><span class="line">    rs.MoveNext</span><br><span class="line">loop</span><br><span class="line"></span><br><span class="line">rs.close</span><br><span class="line">conn.close</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>html&gt;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸€æ®µASP classicçš„ä»£ç ã€‚è¿™æ®µä»£ç çš„é—®é¢˜ï¼š</p><ul><li>æ— æ³•åœ¨ç±»ä¼¼é€»è¾‘çš„é¡µé¢é‡ç”¨ä½¿ç”¨æ•°æ®åº“çš„ä»£ç ã€‚ä¸ºäº†æ»¡è¶³å¿«é€Ÿè¿­ä»£çš„éœ€æ±‚ï¼Œå°†ä¼šä¿ƒä½¿ç¨‹åºå‘˜è‡ªç„¶è€Œç„¶çš„ä½¿ç”¨copy-pasteå¤§æ³•ã€‚</li><li>é¡µé¢çš„æ˜¾ç¤ºä¸æ•°æ®åº“ä»£ç æ··åœ¨ä¸€èµ·ï¼Œå¦‚æœéœ€æ±‚å˜åŒ–ï¼Œè¦è°ƒæ•´é¡µé¢æ˜¾ç¤ºå°†ä¼šå˜å¾—å¾ˆéº»çƒ¦ã€‚ä¸€ä¸ªé¡µé¢è¿˜å¥½ï¼Œå¦‚æœæ˜¯å‡ åä¸ªè¿™ç§ä»£ç çš„é¡µé¢å‘¢ï¼Ÿ</li></ul><p>æ‰€ä»¥ï¼Œä»å¦‚ä½•èƒ½å¤Ÿè®©è¿™æ®µä»£ç é‡ç”¨ä¸ºå‡ºå‘ç‚¹ï¼ŒMVCåœ¨ä¸æ–­çš„è¯•éªŒä¸æµ‹è¯•ä¸­è¯ç”Ÿäº†ã€‚MVCçš„ä¼˜ç‚¹æ€»ç»“è¯·è‡ªè¡ŒGoogleã€‚</p><h3 id="è®¾è®¡è‡­å‘³"><a href="#è®¾è®¡è‡­å‘³" class="headerlink" title="è®¾è®¡è‡­å‘³"></a>è®¾è®¡è‡­å‘³</h3><p>è®¾è®¡ä¸€ä¸ªè½¯ä»¶çš„ç»“æ„æˆ–è€…æ¶æ„çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰è¶³å¤Ÿçš„ç»éªŒï¼Œç»å¸¸ä¼šäº§ç”Ÿå¦‚ä¸‹é—®é¢˜:</p><h4 id="åƒµåŒ–æ€§"><a href="#åƒµåŒ–æ€§" class="headerlink" title="åƒµåŒ–æ€§"></a>åƒµåŒ–æ€§</h4><p>åƒµåŒ–æ€§æ˜¯æŒ‡å¯¹è½¯ä»¶è¿›è¡Œæ”¹åŠ¨ï¼Œå³ä½¿æ˜¯ç®€å•çš„æ”¹åŠ¨ã€‚å¦‚æœå•ä¸€çš„æ”¹åŠ¨ä¼šå¯¼è‡´æœ‰ä¾èµ–å…³ç³»çš„æ¨¡å—ä¸­çš„è¿é”æ”¹åŠ¨ï¼Œé‚£ä¹ˆè®¾è®¡å°±æ˜¯åƒµåŒ–çš„ã€‚</p><h4 id="è„†å¼±æ€§"><a href="#è„†å¼±æ€§" class="headerlink" title="è„†å¼±æ€§"></a>è„†å¼±æ€§</h4><p>è„†å¼±æ€§æ˜¯æŒ‡ï¼Œåœ¨è¿›è¡Œä¸€ä¸ªæ”¹åŠ¨æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç¨‹åºçš„è®¸å¤šåœ°æ–¹å‡ºç°é—®é¢˜ã€‚</p><h4 id="é¡½å›ºæ€§"><a href="#é¡½å›ºæ€§" class="headerlink" title="é¡½å›ºæ€§"></a>é¡½å›ºæ€§</h4><p>é¡½å›ºæ€§æ˜¯æŒ‡ï¼Œè®¾è®¡ä¸­åŒ…å«äº†å¯¹å…¶ä»–æœ‰ç”¨çš„éƒ¨åˆ†ï¼Œä½†æ˜¯è¦æŠŠè¿™äº›éƒ¨åˆ†ä»ç³»ç»Ÿä¸­åˆ†ç¦»å‡ºæ¥æ‰€éœ€è¦çš„åŠªåŠ›å’Œé£é™©å´æ˜¯å·¨å¤§çš„ï¼Œè¿™æ˜¯ä¸€ç§ä»¤äººé—æ†¾ï¼Œä½†éå¸¸å¸¸è§çš„æƒ…å†µã€‚</p><h4 id="ç²˜æ»æ€§"><a href="#ç²˜æ»æ€§" class="headerlink" title="ç²˜æ»æ€§"></a>ç²˜æ»æ€§</h4><p>ç²˜æ»æ€§æ˜¯æŒ‡ï¼Œå½“é¢ä¸´ä¸€ä¸ªæ”¹åŠ¨æ—¶ï¼Œå¼€å‘äººå‘˜å°å°å‘ç°æœ‰å¤šç§æ”¹åŠ¨çš„æ–¹æ³•ã€‚å…¶ä¸­ï¼Œæœ‰ä¸€äº›ä¼šä¿æŒæ•æ·è®¾è®¡ï¼Œè€Œå¦å¤–ä¸€äº›åˆ™ä¼šç ´åè®¾è®¡ã€‚æ¯”å¦‚ï¼Œå¦‚æœç¼–è¯‘æ‰€èŠ±è´¹çš„æ—¶é—´å¾ˆé•¿ï¼Œé‚£ä¹ˆå¼€å‘äººå‘˜å°±ä¼šè¢«è¯±å¯¼å»åšä¸ä¼šå¯¼è‡´å¤§è§„æ¨¡ç¼–è¯‘çš„ä¸¾åŠ¨ã€‚</p><h4 id="ä¸å¿…è¦çš„å¤æ‚æ€§"><a href="#ä¸å¿…è¦çš„å¤æ‚æ€§" class="headerlink" title="ä¸å¿…è¦çš„å¤æ‚æ€§"></a>ä¸å¿…è¦çš„å¤æ‚æ€§</h4><p>å¦‚æœè®¾è®¡ä¸­åŒ…å«äº†å½“å‰æ²¡ç”¨çš„ç»„æˆéƒ¨åˆ†ï¼Œå®ƒå°±å«æœ‰ä¸å¿…è¦çš„å¤æ‚æ€§ã€‚å½“å¼€å‘äººå‘˜é¢„æµ‹éœ€æ±‚çš„å˜åŒ–ï¼Œå¹¶åœ¨è½¯ä»¶ä¸­æ”¾ç½®äº†å¤„ç†æ½œåœ¨å˜åŒ–çš„ä»£ç æ—¶ï¼Œå°å°å‡ºç°è¿™ç§æƒ…å†µã€‚èµ·åˆï¼Œè¿™æ ·åšçœ‹èµ·æ¥è²Œä¼¼æ˜¯ä¸€ä»¶å¥½äº‹ï¼Œä½†æ˜¯ç»“æœå°å°æ­£å¥½ç›¸åã€‚ä¸ºè¿‡å¤šçš„å¯èƒ½æ€§åšå‡†å¤‡ï¼Œè‡´ä½¿è®¾è®¡ç”±äºå«æœ‰ç»ä¸ä¼šç”¨åˆ°çš„ç»“æ„è€Œå˜å¾—æ··ä¹±ã€‚</p><h4 id="ä¸å¿…è¦çš„é‡å¤æ€§"><a href="#ä¸å¿…è¦çš„é‡å¤æ€§" class="headerlink" title="ä¸å¿…è¦çš„é‡å¤æ€§"></a>ä¸å¿…è¦çš„é‡å¤æ€§</h4><p>copy-paste</p><h4 id="æ™¦æ¶©æ€§"><a href="#æ™¦æ¶©æ€§" class="headerlink" title="æ™¦æ¶©æ€§"></a>æ™¦æ¶©æ€§</h4><p>æ™¦æ¶©æ€§æ˜¯æŒ‡æ¨¡å—éš¾ä»¥ç†è§£ã€‚</p><p>æ€ä¹ˆèƒ½å°½é‡é¿å…äº§ç”Ÿä»¥ä¸Šé—®é¢˜å‘¢ï¼Ÿé‚£å°±éœ€è¦å€Ÿé‰´æ•æ·è®¾è®¡ã€‚</p><h3 id="æ•æ·è®¾è®¡åŸåˆ™ä¹‹SOLID"><a href="#æ•æ·è®¾è®¡åŸåˆ™ä¹‹SOLID" class="headerlink" title="æ•æ·è®¾è®¡åŸåˆ™ä¹‹SOLID"></a>æ•æ·è®¾è®¡åŸåˆ™ä¹‹SOLID</h3><p>å¤§å®¶éƒ½å¬è¯´è¿‡æ•æ·å¼€å‘å®£è¨€ï¼Œ å…¶ä¸­æœ€åä¸€æ¡æ˜¯â€éšæ—¶åº”å¯¹å˜åŒ–<strong>é‡äº</strong>éµå¾ªè®¡åˆ’â€ã€‚è¦è¾¾è¿™ç›®çš„å¹¶ä¸”é¿å…å†™å‡ºæœ‰è‡­å‘³çš„ä»£ç ï¼Œå°±éœ€è¦å¼•å…¥æ•æ·è®¾è®¡ï¼Œå°±æ˜¯è¦è®©è‡ªå·±çš„ä»£ç å¤Ÿâ€œæ•æ·â€ã€‚æˆ‘è®¤ä¸ºåªæœ‰ä»£ç å…·æœ‰æ•æ·è®¾è®¡æ€æƒ³ï¼Œæ•æ·å¼€å‘å®£è¨€æ‰€å€¡å¯¼çš„æ‰èƒ½å¤Ÿé¡ºåˆ©å®ç°ã€‚æ‰“ä¸ªæ¯”å–»ï¼Œä¸­å›½å¤ä»£æ‰“æˆ˜æœ‰è®¸å¤šæ’å…µå¸ƒé˜µçš„é˜µæ³•ï¼Œæƒ³æƒ³çœ‹å¦‚æœä½¿ç”¨çš„æ˜¯ä¸€ä¸ªç„å¦™æ— æ¯”çš„é˜µæ³•ï¼Œæ¯”å¦‚å…«å¦é˜µï¼Œä½†æ˜¯æ‰§è¡Œé˜µæ³•çš„å£«å…µå¤§éƒ¨åˆ†éƒ½æ˜¯è€å¼±æ®‹å…µä»¥åŠè€å¹¼å¦‡å­ºï¼Œææ€•è¿é˜µåŠ¿éƒ½æ‘†ä¸å‡ºæ¥å°±æˆ˜è´¥äº†å§ã€‚æˆ‘ä»¬è¿™é‡Œè¯´çš„æ•æ·è®¾è®¡åŸåˆ™å°±åƒå£«å…µä¸€æ ·ï¼Œæ˜¯åŸºçŸ³ã€‚</p><p>é‚£åˆ°åº•ä»€ä¹ˆæ˜¯æ•æ·è®¾è®¡å‘¢ï¼Ÿæ•æ·è®¾è®¡æ˜¯ä¸€ä¸ªè¿‡ç¨‹ï¼Œä¸æ˜¯ä¸€ä¸ªäº‹ä»¶ã€‚å®ƒæ˜¯ä¸€ä¸ªæŒç»­çš„åº”ç”¨åŸåˆ™ã€æ¨¡å¼ä»¥åŠå®è·µæ¥æ”¹è¿›è½¯ä»¶çš„<strong>ç»“æ„</strong>å’Œ<strong>å¯è¯»æ€§</strong>çš„è¿‡ç¨‹ã€‚å®ƒè‡´åŠ›äºä¿æŒç³»ç»Ÿåœ¨ä»»ä½•äº‹ä»¶éƒ½å°½å¯èƒ½çš„<strong>ç®€å•å¹²å‡€</strong>ä»¥åŠå¯Œæœ‰è¡¨è¾¾åŠ›ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å­¦ä¹ æ•æ·è®¾è®¡åŸåˆ™ï¼Œä½†è¯·è®°ä½ï¼Œæ•æ·å¼€å‘äººå‘˜ä¸ä¼šæŠŠè¿™äº›åŸåˆ™åº”ç”¨åˆ°ä¸€ä¸ªåºå¤§çš„é¢„å…ˆè®¾è®¡ä¸­ã€‚ç›¸åï¼Œè¿™äº›åŸåˆ™è¢«åº”ç”¨åœ¨ä¸€æ¬¡æ¬¡çš„è¿­ä»£ä¸­ï¼ŒåŠ›å›¾ä½¿ä»£ç ä»¥åŠä»£ç æ‰€è¡¨è¾¾çš„è®¾è®¡ä¿æŒå¹²å‡€ã€‚</p><h4 id="å•ä¸€èŒè´£åŸåˆ™-SRP"><a href="#å•ä¸€èŒè´£åŸåˆ™-SRP" class="headerlink" title="å•ä¸€èŒè´£åŸåˆ™(SRP)"></a>å•ä¸€èŒè´£åŸåˆ™(SRP)</h4><blockquote><p>ä¸€ä¸ªç±»åº”è¯¥åªæœ‰ä¸€ä¸ªå‘ç”Ÿå˜åŒ–çš„åŸå› </p></blockquote><p>å¦‚æœä¸€ä¸ªç±»æ‰¿æ‹…çš„èŒè´£è¿‡å¤šï¼Œå°±ç­‰äºæŠŠè¿™äº›èŒè´£è€¦åˆåœ¨äº†ä¸€èµ·ã€‚ä¸€ä¸ªèŒè´£çš„å˜åŒ–å¯èƒ½ä¼šå‰Šå¼±æˆ–è€…æŠ‘åˆ¶è¿™ä¸ªç±»å®Œæˆå…¶ä»–èŒè´£çš„èƒ½åŠ›ã€‚</p><p>è€ƒè™‘ä¸‹å›¾çš„è®¾è®¡ï¼š<br><img src="http://ot51d7lis.bkt.clouddn.com/Rectangle%201.png" alt=""></p><p>è¿™ä¸ªè®¾è®¡è¿åäº†SRPï¼Œæ˜¾ç„¶Rectangleæœ‰ä¸¤ä¸ªèŒè´£ã€‚å¯¼è‡´çš„é—®é¢˜ï¼š</p><ul><li>æ‰“åŒ…åˆ°GUIç¨‹åºä¸­çš„æ—¶å€™ï¼Œéœ€è¦å°†è®¡ç®—æœºå‡ ä½•åº”ç”¨åº“ä¸å›¾å½¢ç»˜åˆ¶åº”ç”¨åº“ä¸€èµ·æ‰“åŒ…</li><li>å¦‚æœä¾èµ–çš„ä»»ä½•ä¸€ä¸ªåº“å‘ç”Ÿäº†æ”¹å˜ï¼Œåˆ™éœ€è¦é‡æ–°å¯¹ç¨‹åºæ‰“åŒ…ã€‚å¦‚æœå¿˜è®°åšï¼Œè€Œä»…ä»…åªæ˜¯æ›´æ–°å…¶ä¸­ä¸€ä¸ªåº“çš„è¯ï¼Œå°†ä¼šå¯¼è‡´ä¸å¯é¢„æ–™çš„é”™è¯¯ã€‚</li></ul><p>æ”¹è¿›ï¼š<br><img src="http://ot51d7lis.bkt.clouddn.com/Rectangle_good%20%281%29.png" alt=""></p><h4 id="å¼€æ”¾å…³é—­åŸåˆ™-OCP"><a href="#å¼€æ”¾å…³é—­åŸåˆ™-OCP" class="headerlink" title="å¼€æ”¾å…³é—­åŸåˆ™(OCP)"></a>å¼€æ”¾å…³é—­åŸåˆ™(OCP)</h4><blockquote><p>ä¸€ä¸ªç±»å¯¹ä¿®æ”¹å…³é—­ï¼Œå¯¹æ‰©å±•å¼€æ”¾ã€‚å…·ä½“æ¥è¯´å°±æ˜¯ï¼Œä¸€ä¸ªç±»åœ¨ä¸ä¿®æ”¹å®ƒæœ¬èº«çš„ä»£ç çš„å‰æä¸‹å…è®¸æ‰©å±•å®ƒçš„è¡Œä¸º(å¦‚æœä¸ä¿®æ”¹åšä¸åˆ°åˆ°è¯ï¼Œå°½é‡æŠŠä¿®æ”¹åšåˆ°æœ€å°åŒ–)</p></blockquote><p>OCP å¬èµ·æ¥å¹¶ä¸å¤æ‚ï¼Œä½†æ˜¯å´ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“å®è·µçš„ã€‚å› ä¸ºé€šå¸¸æƒ…å†µä¸‹ï¼Œä¸ºä¸€ä¸ªåŠŸèƒ½è€Œè®¾è®¡å¯ä»¥å¯¹æœªæ¥éœ€æ±‚å¼€æ”¾çš„ç±»å¹¶ä¸ç®€å•ã€‚è¿™é‡Œé‡è¦çš„ç‚¹æ˜¯<strong>æœªæ¥éœ€æ±‚</strong>ã€‚å½“æˆ‘ä»¬å¹¶ä¸çŸ¥é“æœªæ¥è½¯ä»¶çš„éœ€æ±‚çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°†æ€æ ·è®¾è®¡ç±»ï¼Œæ¨¡å—ï¼ŒåŠŸèƒ½ç­‰æ¥è¿åˆéœ€æ±‚å‘¢ï¼Ÿè¿™å°±æ˜¯OCPä¸å®¹æ˜“å®è·µçš„åŸå› ï¼Œé€šå¸¸éœ€è¦å½»åº•çš„æ€è€ƒè®¾è®¡ã€‚</p><p>æˆ‘ä»¬è¯¥å¦‚ä½•å»è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿå½“è®¾è®¡ç±»ç»“æ„çš„æ—¶å€™ï¼Œéœ€è¦ç”¨å¿ƒç¡®ç±»çš„æ‰©å±•ç®€å•ã€‚è®¾è®¡é˜¶æ®µï¼Œå°†æ‰€æœ‰ç±»çš„ç”¨ä¾‹è®°ä¸‹æ¥ï¼Œå¹¶å¯¹æ‰€æœ‰ç”¨ä¾‹ç»™å‡ºåˆé€‚çš„æ¥å£ã€‚æŠ½è±¡ç±»æ˜¯ä¸€ç§èƒ½å¤Ÿç¡®ä¿ç±»èƒ½å¤Ÿè¢«æ‰©å±•çš„æ‰‹æ®µï¼Œä½†æ˜¯è¦å°å¿ƒä¸è¦è¿å<strong>SRP</strong>ï¼Œå½“æƒ³è®©ä¸€ä¸ªç±»åšæ›´å¤šäº‹æƒ…çš„æ—¶å€™å°±å¾ˆå®¹æ˜“å‘ç”Ÿã€‚</p><h5 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h5><p>è¯¥ä¾‹å­æ˜¯ä¸€ä¸ªè®¡ç®—ä¸ªäººæ‰€å¾—ç¨çš„ä¾‹å­ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Individual</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> salary : <span class="type">Double</span>;</span><br><span class="line">    <span class="keyword">let</span> age : <span class="type">NSInteger</span>;</span><br><span class="line">    <span class="keyword">let</span> name : <span class="type">String</span>;</span><br><span class="line">    <span class="keyword">let</span> countryCode : <span class="type">String</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>(salary : <span class="type">Double</span>,</span><br><span class="line">         age : <span class="type">NSInteger</span>,</span><br><span class="line">         name : <span class="type">String</span>,</span><br><span class="line">         countryCode : <span class="type">String</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.countryCode = countryCode;</span><br><span class="line">        <span class="keyword">self</span>.salary = salary;</span><br><span class="line">        <span class="keyword">self</span>.age = age;</span><br><span class="line">        <span class="keyword">self</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TaxCalculator</span> : <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">calculate</span><span class="params">(<span class="number">_</span> individual : Individual)</span></span> -&gt; <span class="type">Double</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> tax : <span class="type">Double</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//Just use flat calculation algorithm for simplicity as </span></span><br><span class="line">        <span class="comment">//here we just use it to demostrate OCP.</span></span><br><span class="line">        <span class="keyword">switch</span> individual.countryCode &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"cn"</span>:</span><br><span class="line">            tax = individual.salary * <span class="number">0.18</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"us"</span>:</span><br><span class="line">            tax = individual.salary * <span class="number">0.20</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"jp"</span>:</span><br><span class="line">            tax = individual.salary * <span class="number">0.50</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            tax = <span class="number">0.1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> tax;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ç°æœ‰è®¾è®¡çš„ç¼ºç‚¹"><a href="#ç°æœ‰è®¾è®¡çš„ç¼ºç‚¹" class="headerlink" title="ç°æœ‰è®¾è®¡çš„ç¼ºç‚¹"></a>ç°æœ‰è®¾è®¡çš„ç¼ºç‚¹</h5><p>ç°æœ‰è®¾è®¡çš„ç¼ºç‚¹å¾ˆæ˜æ˜¾ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦å¢åŠ ä¸€ä¸ªæ–°çš„å›½å®¶çš„ä¸ªç¨è®¡ç®—ï¼Œåˆ™ä¸€å®šéœ€è¦æ›´æ”¹ç°æœ‰çš„TaxCalculatorçš„ä»£ç ã€‚æ˜¾ç„¶ï¼Œå½“å‰è®¾è®¡ä¸å¯¹æ‰©å±•å¼€æ”¾ã€‚</p><h5 id="ä¸€ä¸ªæ›´å¥½çš„ç¬¦åˆOCPçš„è®¾è®¡"><a href="#ä¸€ä¸ªæ›´å¥½çš„ç¬¦åˆOCPçš„è®¾è®¡" class="headerlink" title="ä¸€ä¸ªæ›´å¥½çš„ç¬¦åˆOCPçš„è®¾è®¡"></a>ä¸€ä¸ªæ›´å¥½çš„ç¬¦åˆOCPçš„è®¾è®¡</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">CalculateTax</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">calculate</span><span class="params">(<span class="number">_</span> individual : Individual)</span></span> -&gt; <span class="type">Double</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ChinaTaxCalculator</span>: <span class="title">NSObject</span>, <span class="title">CalculateTax</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">calculate</span><span class="params">(<span class="number">_</span> individual: Individual)</span></span> -&gt; <span class="type">Double</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> individual.salary * <span class="number">0.18</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">USATaxCalculator</span>: <span class="title">NSObject</span>, <span class="title">CalculateTax</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">calculate</span><span class="params">(<span class="number">_</span> individual: Individual)</span></span> -&gt; <span class="type">Double</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> individual.salary * <span class="number">0.20</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">JapanTaxCalculator</span>: <span class="title">NSObject</span>, <span class="title">CalculateTax</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">calculate</span><span class="params">(<span class="number">_</span> individual: Individual)</span></span> -&gt; <span class="type">Double</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> individual.salary * <span class="number">0.50</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TaxCalculator</span>: <span class="title">NSObject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">calculate</span><span class="params">(taxHandler : CalculateTax, individual : Individual)</span></span> -&gt; <span class="type">Double</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> taxHandler.calculate(individual);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨ï¼Œå¦‚æœå¢åŠ ä¸€ä¸ªå›½å®¶çš„ç¨æ”¶è®¡ç®—ï¼Œåªéœ€è¦æ·»åŠ ä¸€ä¸ªç›¸åº”å›½å®¶çš„ç¨æ”¶è®¡ç®—ç±»<strong>XXTaxCalculator</strong>å³å¯ï¼Œå¹¶ä¸éœ€è¦æ›´æ”¹ä»»ä½•å·²æœ‰ä»£ç ã€‚å¦‚æœé¡¹ç›®æŒ‰ç…§ä»¥ä¸‹åˆ’åˆ†ç¨‹åºä¾èµ–åº“çš„ç»“æ„ï¼Œåˆ™åªéœ€è¦é‡æ–°ç¼–è¯‘å…·ä½“å®ç°äº†å„ä¸ªå›½å®¶ç¨æ”¶çš„åº“å°±è¡Œäº†ã€‚</p><p><img src="http://ot51d7lis.bkt.clouddn.com/Better%20OCP%20design.png" alt=""></p><h4 id="Liskovæ›¿æ¢åŸåˆ™-LSP"><a href="#Liskovæ›¿æ¢åŸåˆ™-LSP" class="headerlink" title="Liskovæ›¿æ¢åŸåˆ™(LSP)"></a>Liskovæ›¿æ¢åŸåˆ™(LSP)</h4><blockquote><p>Liskov æ›¿æ¢åŸåˆ™è¯´çš„æ˜¯å¦‚æœDæ˜¯Bçš„æ´¾ç”Ÿç±»ï¼Œåˆ™ä»»ä½•Bçš„åº”ç”¨éƒ½å¿…é¡»èƒ½å¤Ÿè¢«Dçš„å®ä¾‹æ›¿æ¢è€Œä¸ä¼šå½±å“åˆ°ç¨‹åºè¿è¡Œçš„é€»è¾‘æˆ–è€…åŠŸèƒ½ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯æ´¾ç”Ÿç±»å¿…é¡»èƒ½å¤Ÿå®Œå…¨æ›¿æ¢åŸºç±»ã€‚</p></blockquote><p>æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªå¤§æ¦‚åªè¦ä½ å­¦LiskovåŸåˆ™éƒ½ä¼šçœ‹åˆ°çš„ä¸€ä¸ªè¿åLiskovåŸåˆ™çš„ä¾‹å­ã€‚</p><h5 id="è¿åLiskovæ›¿æ¢åŸåˆ™çš„ä¾‹å­"><a href="#è¿åLiskovæ›¿æ¢åŸåˆ™çš„ä¾‹å­" class="headerlink" title="è¿åLiskovæ›¿æ¢åŸåˆ™çš„ä¾‹å­"></a>è¿åLiskovæ›¿æ¢åŸåˆ™çš„ä¾‹å­</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> width : <span class="type">Double</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> height : <span class="type">Double</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>(width : <span class="type">Double</span>, height : <span class="type">Double</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.width = width;</span><br><span class="line">        <span class="keyword">self</span>.height = height;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">area</span><span class="params">()</span></span> -&gt; <span class="type">Double</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.width * height;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Square</span> : <span class="title">Rectangle</span> </span>&#123;</span><br><span class="line">    <span class="keyword">fileprivate</span> <span class="keyword">var</span> _width : <span class="type">Double</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">fileprivate</span> <span class="keyword">var</span> _height : <span class="type">Double</span> = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">public</span> <span class="keyword">var</span> width: <span class="type">Double</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> _width;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span>(newWidth) &#123;</span><br><span class="line">            _width = newWidth;</span><br><span class="line">            _height = newWidth;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">public</span> <span class="keyword">var</span> height: <span class="type">Double</span> &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> _height;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span> (newHeight) &#123;</span><br><span class="line">            _width = newHeight;</span><br><span class="line">            _height = newHeight;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">createRectangle</span><span class="params">(width : Double, height : Double)</span></span> -&gt; <span class="type">Rectangle</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">Square</span>(width: width, height: height);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Someday we use createRectangle method somewhere in our application.</span></span><br><span class="line"><span class="keyword">var</span> rect:<span class="type">Rectangle</span> = createRectangle(width : <span class="number">3</span>, height : <span class="number">3</span>);</span><br><span class="line">rect.area();<span class="comment">//result is 9 as expected</span></span><br><span class="line"></span><br><span class="line">rect.height = <span class="number">10</span>;</span><br><span class="line">rect.width = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">rect.area();<span class="comment">//opps!result is 25 not 50!</span></span><br></pre></td></tr></table></figure><h5 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h5><p>è¿™ä¸ªåŸåˆ™æ˜¯å¯¹OCPçš„ä¸€ä¸ªæ‰©å±•ï¼Œä»–å‘Šè¯‰æˆ‘ä»¬ä»åŸºç±»æ´¾ç”Ÿå‡ºæ–°çš„æ´¾ç”Ÿç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¿…é¡»ä¿è¯ä¸è¦ç ´ååŸæœ‰çš„è¡Œä¸ºã€‚</p><h4 id="æ¥å£éš”ç¦»åŸåˆ™-ISP"><a href="#æ¥å£éš”ç¦»åŸåˆ™-ISP" class="headerlink" title="æ¥å£éš”ç¦»åŸåˆ™(ISP)"></a>æ¥å£éš”ç¦»åŸåˆ™(ISP)</h4><blockquote><p>æ¥å£éš”ç¦»åŸåˆ™è®²çš„æ˜¯æ¥å£å®ç°è€…ä¸èƒ½è¢«å¼ºè¿«å®ç°æˆ–è€…ä¾èµ–ä¸€äº›ä¸ä¼šç”¨åˆ°çš„æ–¹æ³•</p></blockquote><p>ä¸¾ä¸ªä¾‹å­ï¼Œå½“æˆ‘ä»¬å°†ä¸€ä¸ªæ¨¡å—ä»åº”ç”¨ç¨‹åºä¸­æŠ½è±¡å‡ºå¤šä¸ªå­æ¨¡å—çš„æ—¶å€™éœ€è¦å°å¿ƒæ³¨æ„äº†ã€‚å‡è®¾è¿™ä¸ªæ¨¡å—æ˜¯åŸºäºç±»å®ç°çš„ï¼Œé‚£æˆ‘ä»¬èƒ½å¤Ÿä»ç±»æŠ½è±¡å‡ºæ¥å£ï¼ˆæ³¨ï¼šè¿™äº›æ¥å£éƒ½ä¼šåœ¨ç°æœ‰ç³»ç»Ÿè¢«é€ä¸€å®ç°ï¼‰ã€‚ä½†å½“æˆ‘ä»¬æŠŠæ¨¡å—åŠ å…¥åˆ°ä¸€ä¸ªä¸åŸç³»ç»Ÿç›¸æ¯”ä»…å«æœ‰æŸäº›æ¥å£çš„å®ç°ï¼Œæœ‰å¯èƒ½ä¼šå‘ç”Ÿè¿™ç§ç»“æœï¼šä¸ºäº†ä¿è¯æ¨¡å—èƒ½å¤Ÿæ­£å¸¸è¿è¡Œï¼Œä¸å¾—ä¸åœ¨æ–°ç³»ç»Ÿä¸­è¢«è¿«å®ç°æ‰€æœ‰çš„æ¥å£å¹¶ä¸”æœ‰ç›¸å½“ä¸€éƒ¨åˆ†æ¥å£ä¸ä¼šè¢«ç”¨åˆ°ï¼Œè¿™éƒ¨åˆ†ä¸ä¼šè¢«ç”¨åˆ°çš„æ¥å£é€šå¸¸ä¸ºç©ºå®ç°æˆ–è€…è¿”å›è™šå‡å€¼ï¼Œå°±ä¸ºäº†å®ç°æ¥å£è€Œå®ç°ã€‚é€šå¸¸å‘ç”Ÿè¿™ç§æƒ…å†µçš„æ¥å£å«åšèƒ–æ¥å£æˆ–è€…è¢«æ±¡æŸ“çš„æ¥å£ã€‚</p><h5 id="ä¸€ä¸ªè¿åäº†ISPçš„å®é™…ä¾‹å­"><a href="#ä¸€ä¸ªè¿åäº†ISPçš„å®é™…ä¾‹å­" class="headerlink" title="ä¸€ä¸ªè¿åäº†ISPçš„å®é™…ä¾‹å­"></a>ä¸€ä¸ªè¿åäº†ISPçš„å®é™…ä¾‹å­</h5><p>åœ¨æ—©æœŸçš„ASP.NET 2.0ç‰ˆæœ¬ä¸­ï¼Œå¦‚æœç½‘ç«™æƒ³å®ç°è‡ªå·±çš„membership providerï¼Œåˆ™éœ€è¦å°†éœ€è¦æˆ–è€…ä¸éœ€è¦çš„æ‰€æœ‰æ¥å£éƒ½å®ç°ä¸€éã€‚å¦‚ä¸‹ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CustomMembershipProvider</span> : <span class="title">MembershipProvider</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">string</span> ApplicationName</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">bool</span> <span class="title">ChangePassword</span>(<span class="params"><span class="keyword">string</span> username, <span class="keyword">string</span> oldPassword, <span class="keyword">string</span> newPassword</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">bool</span> <span class="title">ChangePasswordQuestionAndAnswer</span>(<span class="params"><span class="keyword">string</span> username, <span class="keyword">string</span> password, </span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">string</span> newPasswordQuestion, <span class="keyword">string</span> newPasswordAnswer</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> MembershipUser <span class="title">CreateUser</span>(<span class="params"><span class="keyword">string</span> username, <span class="keyword">string</span> password, <span class="keyword">string</span> email, </span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">string</span> passwordQuestion, <span class="keyword">string</span> passwordAnswer, <span class="keyword">bool</span> isApproved, <span class="keyword">object</span> providerUserKey, </span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">out</span> MembershipCreateStatus status</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">bool</span> <span class="title">DeleteUser</span>(<span class="params"><span class="keyword">string</span> username, <span class="keyword">bool</span> deleteAllRelatedData</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">bool</span> EnablePasswordReset</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>); &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">bool</span> EnablePasswordRetrieval</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>); &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> MembershipUserCollection <span class="title">FindUsersByEmail</span>(<span class="params"><span class="keyword">string</span> emailToMatch, <span class="keyword">int</span> pageIndex, </span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">int</span> pageSize, <span class="keyword">out</span> <span class="keyword">int</span> totalRecords</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> MembershipUserCollection <span class="title">FindUsersByName</span>(<span class="params"><span class="keyword">string</span> usernameToMatch, <span class="keyword">int</span> pageIndex, </span></span></span><br><span class="line"><span class="function"><span class="params">        <span class="keyword">int</span> pageSize, <span class="keyword">out</span> <span class="keyword">int</span> totalRecords</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> MembershipUserCollection <span class="title">GetAllUsers</span>(<span class="params"><span class="keyword">int</span> pageIndex, <span class="keyword">int</span> pageSize, <span class="keyword">out</span> <span class="keyword">int</span> totalRecords</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">int</span> <span class="title">GetNumberOfUsersOnline</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">string</span> <span class="title">GetPassword</span>(<span class="params"><span class="keyword">string</span> username, <span class="keyword">string</span> answer</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> MembershipUser <span class="title">GetUser</span>(<span class="params"><span class="keyword">string</span> username, <span class="keyword">bool</span> userIsOnline</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> MembershipUser <span class="title">GetUser</span>(<span class="params"><span class="keyword">object</span> providerUserKey, <span class="keyword">bool</span> userIsOnline</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">string</span> <span class="title">GetUserNameByEmail</span>(<span class="params"><span class="keyword">string</span> email</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">int</span> MaxInvalidPasswordAttempts</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>); &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">int</span> MinRequiredNonAlphanumericCharacters</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>); &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">int</span> MinRequiredPasswordLength</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>); &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">int</span> PasswordAttemptWindow</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>); &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">override</span> MembershipPasswordFormat PasswordFormat</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>); &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">string</span> PasswordStrengthRegularExpression</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>); &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">bool</span> RequiresQuestionAndAnswer</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>); &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">bool</span> RequiresUniqueEmail</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">get</span> &#123; <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>); &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">string</span> <span class="title">ResetPassword</span>(<span class="params"><span class="keyword">string</span> username, <span class="keyword">string</span> answer</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">bool</span> <span class="title">UnlockUser</span>(<span class="params"><span class="keyword">string</span> userName</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">UpdateUser</span>(<span class="params">MembershipUser user</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> <span class="keyword">bool</span> <span class="title">ValidateUser</span>(<span class="params"><span class="keyword">string</span> username, <span class="keyword">string</span> password</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">"The method or operation is not implemented."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Holy crap! è¿™æ˜¯ä¸€å¤§å †ä¸œè¥¿ï¼å¯èƒ½æœ‰çš„æ—¶å€™ï¼Œä½ ä»…ä»…æ˜¯æƒ³å°†ç°æœ‰çš„membership providerçš„ä¸€éƒ¨åˆ†æ”¹å˜æˆè‡ªå·±çš„è€Œå·²ï¼Œä½†æ˜¯ä½ è¦é¢å¯¹çš„æ˜¯å…¨éƒ¨å®ç°ï¼Œè¿™å°±éº»çƒ¦äº†ã€‚å¦‚æœä½ ä¸æ‡‚ASP.NETæ²¡å…³ç³»ï¼Œè¿™é‡Œè¿™ä¸ªä¾‹å­åªæ˜¯æƒ³å±•ç¤ºä¸€ç§è¿åäº†ISPåçš„ç»“æœã€‚</p><h5 id="ä¸€ä¸ªæ›´ç®€å•é€šä¿—çš„ä¾‹å­æ¥è¯´æ˜ISP"><a href="#ä¸€ä¸ªæ›´ç®€å•é€šä¿—çš„ä¾‹å­æ¥è¯´æ˜ISP" class="headerlink" title="ä¸€ä¸ªæ›´ç®€å•é€šä¿—çš„ä¾‹å­æ¥è¯´æ˜ISP"></a>ä¸€ä¸ªæ›´ç®€å•é€šä¿—çš„ä¾‹å­æ¥è¯´æ˜ISP</h5><p>é¦–å…ˆçœ‹ä»£ç ï¼š</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">feed</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> : <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">feed</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"feed with bone"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Snake</span> : <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">feed</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"feed with mice"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éšåï¼Œä½ æ³¨æ„åˆ°æœ‰äº›åŠ¨ç‰©æ˜¯å® ç‰©ï¼Œæœ‰å® ç‰©çš„ä¸€äº›ç‰¹æ€§æˆ–è€…ä¸äººäº’åŠ¨çš„æ–¹æ³•ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">feed</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="comment">//æ¢³ç†æ¯›å‘</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">groom</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> : <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">feed</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"feed with bone"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">groom</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"grooming and dog feel comfortable"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Snake</span> : <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">feed</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"feed with mice"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">groom</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="comment">//ignore this method as I am not going to groom a feaking snake.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†™åˆ°è¿™é‡Œï¼Œä½ å°±å‘ç°é—®é¢˜äº†ã€‚Animalæ¥å£è¢«æ±¡æŸ“äº†ã€‚åœ¨Snakeç±»ä¸Šå®ƒè¦æ±‚æˆ‘ä»¬å®ç°ä¸€ä¸ªå¹¶ä¸éœ€è¦çš„æ–¹æ³•ã€‚å¥½çš„åšæ³•æ˜¯æŠŠå® ç‰©ç›¸å…³çš„æ–¹æ³•æŠ½è±¡å‡ºæ¥ã€‚</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">feed</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Pet</span> </span>&#123;</span><br><span class="line">    <span class="comment">//æ¢³ç†æ¯›å‘</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">groom</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> : <span class="title">Animal</span>, <span class="title">Pet</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">feed</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"feed with bone"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">groom</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"grooming and dog feel comfortable"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Snake</span> : <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">feed</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"feed with mice"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä¾èµ–åè½¬-DIP"><a href="#ä¾èµ–åè½¬-DIP" class="headerlink" title="ä¾èµ–åè½¬(DIP)"></a>ä¾èµ–åè½¬(DIP)</h4><blockquote><p>A. High-level æ¨¡å—ä¸åº”è¯¥ä¾èµ– low-level æ¨¡å—ã€‚ä¸¤è€…éƒ½åº”è¯¥ä¾èµ–äºæŠ½è±¡<br>B. æŠ½è±¡ä¸èƒ½ä¾èµ–äºå…·ä½“å®ç°ã€‚å…·ä½“å®ç°åº”è¯¥ä¾èµ–äºæŠ½è±¡</p></blockquote><h5 id="ä¾‹å­-1"><a href="#ä¾‹å­-1" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h5><p>ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨DAO(Database access object)æ¥å°è£…æ•°æ®åº“æ“ä½œçš„é€»è¾‘ã€‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œå°†æ•°æ®åº“å…·ä½“çš„ç±»OracleConnectionç›´æ¥åœ¨DAOç±»é‡Œé¢äº†ã€‚é‚£å¦‚æœæˆ‘ä»¬æƒ³æŠŠæ•°æ®åº“æ¢æˆMysqlï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿï¼ˆæƒ³æƒ³ä¸€ä¸‹ï¼Œæœ‰å¾ˆå¤šDAOç±»ï¼Œé‡Œé¢çš„é€»è¾‘éƒ½å¾ˆå¤æ‚å¾ˆå¤šï¼‰</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OracleConnection</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">open</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="comment">//open database connection logic</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">close</span><span class="params">()</span></span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DAO</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">var</span> databaseConnection : <span class="type">OracleConnection</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        databaseConnection = <span class="type">OracleConnection</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">commitChanges</span><span class="params">()</span></span> &#123;</span><br><span class="line">        </span><br><span class="line">        databaseConnection.<span class="keyword">open</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//deal with data base changes</span></span><br><span class="line">        </span><br><span class="line">        databaseConnection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¬¦åˆDIPçš„å†™æ³•:</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">DatabaseConnection</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">open</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">close</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OracleConnection</span> : <span class="title">DatabaseConnection</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">open</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="comment">//open database connection logic</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">close</span><span class="params">()</span></span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MysqlConnection</span> : <span class="title">DatabaseConnection</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">open</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="comment">//open database connection logic</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">close</span><span class="params">()</span></span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DAO</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">let</span> databaseConnection : <span class="type">DatabaseConnection</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>(databaseConnection : <span class="type">DatabaseConnection</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.databaseConnection = databaseConnection;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">commitChanges</span><span class="params">()</span></span> &#123;</span><br><span class="line">        </span><br><span class="line">        databaseConnection.<span class="keyword">open</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//deal with data base changes</span></span><br><span class="line">        </span><br><span class="line">        databaseConnection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å’‹ä¸€çœ‹ï¼Œç»†èŠ‚ä¸Šå¯èƒ½è·ŸLiskovè¦æ±‚çš„å¾ˆåƒï¼Œä½†æ˜¯è¯·æ³¨æ„ï¼ŒDIPä¸»è¦å¼ºè°ƒçš„æ˜¯æ¨¡å—ä¹‹é—´çš„ä¾èµ–ã€‚ä¸‹é¢ç”¨ä¸€ä¸ªä¾‹å­æ¥æ„Ÿå—ä¸€ä¸‹</p><p><img src="http://ot51d7lis.bkt.clouddn.com/DIP%20%281%29.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ•æ·è®¾è®¡ä¹‹SOLIDåŸåˆ™&quot;&gt;&lt;a href=&quot;#æ•æ·è®¾è®¡ä¹‹SOLIDåŸåˆ™&quot; class=&quot;headerlink&quot; title=&quot;æ•æ·è®¾è®¡ä¹‹SOLIDåŸåˆ™&quot;&gt;&lt;/a&gt;æ•æ·è®¾è®¡ä¹‹SOLIDåŸåˆ™&lt;/h2&gt;&lt;h3 id=&quot;æŠŠæ¡æ‰€å­¦ä¸œè¥¿çš„æœ¬è´¨&quot;&gt;&lt;a href=&quot;#æŠŠæ¡æ‰€å­¦
      
    
    </summary>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://gobodigo.com/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
    
      <category term="OOD" scheme="http://gobodigo.com/tags/OOD/"/>
    
      <category term="è®¾è®¡æ¨¡å¼" scheme="http://gobodigo.com/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
    
      <category term="æ•æ·å¼€å‘" scheme="http://gobodigo.com/tags/%E6%95%8F%E6%8D%B7%E5%BC%80%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>æœ€çŸ­è·¯å¾„ä¹‹è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•</title>
    <link href="http://gobodigo.com/2017/07/28/algorithm-dijstra/"/>
    <id>http://gobodigo.com/2017/07/28/algorithm-dijstra/</id>
    <published>2017-07-28T15:36:29.000Z</published>
    <updated>2018-06-23T14:22:10.517Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cin</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">cout</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//maximum number of nodes</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxnum = <span class="number">100</span>;</span><br><span class="line"><span class="comment">//maxWeight represents infinite large</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxWeight = <span class="number">99999</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">///Calculate the shortest path based on dijstra algorithm.</span></span><br><span class="line"><span class="comment">///</span></span><br><span class="line"><span class="comment">///@param v source node index</span></span><br><span class="line"><span class="comment">///@param n number of nodes</span></span><br><span class="line"><span class="comment">///@param dist to save the distance between the ith node and the source node </span></span><br><span class="line"><span class="comment">///@param record the ith node's previous node.</span></span><br><span class="line"><span class="comment">///@param arcs line matrix</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dijstra</span><span class="params">(<span class="keyword">int</span> v, <span class="keyword">int</span> n, <span class="keyword">int</span> *dist, <span class="keyword">int</span> *prev, <span class="keyword">int</span> arcs[maxnum][maxnum])</span> </span>&#123;</span><br><span class="line">    <span class="comment">//bool array marks which node has been put to S.</span></span><br><span class="line">    <span class="comment">//S is an array that contains nodes which makes up of the shortest path.</span></span><br><span class="line">    <span class="keyword">bool</span> included[n];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        included[i] = <span class="literal">false</span>;</span><br><span class="line">        dist[i] = arcs[v][i];</span><br><span class="line"></span><br><span class="line">        <span class="comment">//if the distance is not maxWeight, then it means there </span></span><br><span class="line">        <span class="comment">//is a line between the v and the ith node. so set the ith</span></span><br><span class="line">        <span class="comment">//node's previous to v.</span></span><br><span class="line">        <span class="keyword">if</span>(dist[i] &lt; maxWeight) &#123;</span><br><span class="line">            prev[i] = v;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            prev[i] = <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//start from the source node v, so put it to S by default.</span></span><br><span class="line">    included[v] = <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">//self to self is 0.</span></span><br><span class="line">    dist[v] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> min = maxWeight;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> w;</span><br><span class="line">        <span class="comment">//find min distance between the source node and the ith</span></span><br><span class="line">        <span class="comment">//node. the ith node must not be in S.</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!included[j] &amp;&amp; dist[j] &lt; min) &#123;</span><br><span class="line">                min = dist[j];</span><br><span class="line">                w = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//put the w node into the S.</span></span><br><span class="line">        included[w] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!included[j] &amp;&amp; min + arcs[w][j] &lt; dist[j]) &#123;</span><br><span class="line">                dist[j] = min + arcs[w][j];</span><br><span class="line">                prev[j] = w;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::ifstream ifin;</span><br><span class="line">    <span class="comment">//number of nodes</span></span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="comment">//number of lines</span></span><br><span class="line">    <span class="keyword">int</span> lines;</span><br><span class="line">    <span class="keyword">int</span> arcs[maxnum][maxnum];</span><br><span class="line"></span><br><span class="line">    ifin.open(<span class="string">"sample.txt"</span>);</span><br><span class="line">    <span class="keyword">if</span>(ifin.is_open()) &#123;</span><br><span class="line">        ifin &gt;&gt; n;</span><br><span class="line">        ifin &gt;&gt; lines;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; lines; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> row, column, weight;</span><br><span class="line">            ifin &gt;&gt; row &gt;&gt; column &gt;&gt; weight;</span><br><span class="line"></span><br><span class="line">            arcs[row][column] = weight;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"could not open sample.txt "</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ifin.close();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; n &lt;&lt; <span class="string">" nodes "</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; lines &lt;&lt; <span class="string">" lines "</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//to save the distance between the ith node and the source node </span></span><br><span class="line">    <span class="keyword">int</span> dist[n];</span><br><span class="line">    <span class="comment">//to record the ith node's previous node.</span></span><br><span class="line">    <span class="keyword">int</span> prev[n];</span><br><span class="line"></span><br><span class="line">    <span class="comment">//init arcs</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(arcs[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">                arcs[i][j] = maxWeight;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; arcs[i][j] &lt;&lt; <span class="string">"\t"</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> v = <span class="number">0</span>;</span><br><span class="line">    dijstra(v, n, dist, prev, arcs);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"distance between "</span>&lt;&lt; v &lt;&lt;<span class="string">" and last point is :"</span> &lt;&lt; dist[n<span class="number">-1</span>] &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"shortest path is ["</span>;</span><br><span class="line">    <span class="keyword">int</span> k = n - <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; path(<span class="number">1</span>,k);</span><br><span class="line">    <span class="keyword">while</span>(prev[k] &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">        k = prev[k];</span><br><span class="line">        path.push_back(k);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;::reverse_iterator iter = path.rbegin(); iter != path.rend(); ++iter) &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; *iter &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"]"</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://gobodigo.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://gobodigo.com/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>æ‰¾å‡ºä¸åŒ…å«æŸä¸ªå­—ç¬¦ä¸²çš„æ­£åˆ™è¡¨è¾¾å¼</title>
    <link href="http://gobodigo.com/2017/07/23/find-non-include-regex/"/>
    <id>http://gobodigo.com/2017/07/23/find-non-include-regex/</id>
    <published>2017-07-23T14:42:43.000Z</published>
    <updated>2018-06-23T14:22:10.517Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ‰¾å‡ºä¸åŒ…å«æŸä¸ªå­—ç¬¦ä¸²çš„æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ‰¾å‡ºä¸åŒ…å«æŸä¸ªå­—ç¬¦ä¸²çš„æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ‰¾å‡ºä¸åŒ…å«æŸä¸ªå­—ç¬¦ä¸²çš„æ­£åˆ™è¡¨è¾¾å¼"></a>æ‰¾å‡ºä¸åŒ…å«æŸä¸ªå­—ç¬¦ä¸²çš„æ­£åˆ™è¡¨è¾¾å¼</h2><p>ç»å¸¸æˆ‘ä»¬ä¼šé‡åˆ°æƒ³æ‰¾å‡ºä¸åŒ…å«æŸä¸ªå­—ç¬¦ä¸²ï¼Œä¾‹å¦‚â€helloâ€çš„æ–‡æœ¬ï¼Œæœ€å®¹æ˜“æƒ³åˆ°çš„æ˜¯åœ¨æ­£åˆ™è¡¨è¾¾å¼é‡Œä½¿ç”¨[^hello]ï¼Œä½†è¿™æ ·çš„æ­£åˆ™è¡¨è¾¾å¼å®Œå…¨æ˜¯å¦å¤–ä¸€ä¸ªæ„æ€ï¼Œå®ƒçš„æ„æ€æ˜¯å­—ç¬¦ä¸²é‡Œä¸èƒ½åŒ…å«â€™hâ€™ï¼Œâ€™eâ€™ï¼Œâ€™lâ€™, â€˜oâ€™å››ä¸ªå•å­—ç¬¦ã€‚é‚£ä»€ä¹ˆæ ·çš„æ­£åˆ™è¡¨è¾¾å¼èƒ½è¿‡æ»¤å‡ºä¸åŒ…å«å®Œæ•´â€œhelloâ€å­—ä¸²çš„ä¿¡æ¯å‘¢ï¼Ÿäº‹å®ä¸Šï¼Œè¯´æ­£åˆ™è¡¨è¾¾å¼é‡Œä¸æ”¯æŒé€†å‘åŒ¹é…å¹¶ä¸æ˜¯ç™¾åˆ†ä¹‹ç™¾çš„æ­£ç¡®ã€‚</p><p>æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨<strong>å¦å®šå¼æŸ¥æ‰¾</strong>æ¥æ¨¡æ‹Ÿå‡ºé€†å‘åŒ¹é…ï¼Œä»è€Œè§£å†³æˆ‘ä»¬çš„é—®é¢˜, è¡¨è¾¾å¼å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^((?!hello).)*$</span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ä¸ªè¡¨è¾¾å¼å°±èƒ½è¿‡æ»¤å‡ºä¸åŒ…å«<strong>â€˜helloâ€™</strong>å­—ä¸²çš„ä¿¡æ¯ã€‚</p><p>å…ˆè§£é‡Šä¸€ä¸‹<strong>?!</strong>çš„ç”¨æ³•ï¼š</p><blockquote><p>é›¶å®½è´Ÿå‘å…ˆè¡Œæ–­è¨€(?!exp)ï¼Œåªä¼šåŒ¹é…åç¼€expä¸å­˜åœ¨çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œ\d{3}(?!\d)åŒ¹é…ä¸‰ä½æ•°å­—ï¼Œè€Œä¸”è¿™ä¸‰ä½æ•°å­—çš„åé¢ä¸èƒ½æ˜¯æ•°å­—</p></blockquote><p>ç°åœ¨è§£é‡Šè¡¨è¾¾å¼<strong>((?!hello).)*</strong>ï¼š</p><p>è¡¨è¾¾å¼<strong>(?!hello)</strong>.ä¼šå¾€å‰æŸ¥æ‰¾ï¼Œçœ‹çœ‹å‰é¢æ˜¯ä¸æ˜¯æ²¡æœ‰â€œhelloâ€å­—ä¸²ï¼Œå¦‚æœæ²¡æœ‰(æ˜¯å…¶å®ƒå­—ç¬¦)ï¼Œé‚£ä¹ˆ.(ç‚¹å·)å°±ä¼šåŒ¹é…è¿™äº›å…¶å®ƒå­—ç¬¦ã€‚<strong>è¿™ç§æ­£åˆ™è¡¨è¾¾å¼çš„â€œæŸ¥æ‰¾â€ä¹Ÿå«åšâ€œzero-width-assertionsâ€(é›¶å®½åº¦æ–­è¨€)</strong>ï¼Œå› ä¸ºå®ƒä¸ä¼šæ•è·ä»»ä½•çš„å­—ç¬¦ï¼Œåªæ˜¯åˆ¤æ–­ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹<strong>â€œNonnullhelloworldâ€</strong>è¿™ä¸ªå­—ç¬¦ä¸²ã€‚</p><blockquote><p><strong>(?!hello)</strong>ä¼šæ£€æŸ¥æ¯ä¸ªå­—ç¬¦ä¸²åé¢è·Ÿçš„æ˜¯ä¸æ˜¯<strong>â€˜helloâ€™</strong>ï¼Œå¦‚æœä¸æ˜¯ï¼Œ.å°±åŒ¹é…è¿™ä¸ªå­—ç¬¦ã€‚è¡¨è¾¾å¼<strong>(?!hello)</strong>åªæ‰§è¡Œä¸€æ¬¡ï¼Œæ‰€ä»¥å°†è¿™ä¸ªè¡¨è¾¾å¼ç”¨æ‹¬å¼§åŒ…è£¹ç»„æˆç»„ï¼Œç„¶åç”¨æ˜Ÿå·*ä¿®é¥°æ¥åŒ¹é…é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚</p></blockquote><p>åŒ¹é…<strong>Nonnullhelloworld</strong>è¿”å›false, è¯´æ˜è¯¥å­—ç¬¦ä¸²å«æœ‰<strong>â€˜helloâ€™</strong>å­ä¸²ã€‚<br>åŒ¹é…<strong>Nonnullworld</strong>è¿”å›true<br>åŒ¹é…<strong>Nonnullworldhello</strong>è¿”å›false<br>åŒ¹é…<strong>hello</strong>è¿”å›false</p><p>æ‰€ä»¥ï¼Œä½ å¯ä»¥è®¤ä¸ºå½“è¡¨è¾¾å¼è¿”å›falseçš„æ—¶å€™ï¼Œè¯´æ˜è¯¥å­—ç¬¦ä¸²åŒ…å«æŒ‡å®šå­ä¸²ã€‚</p><p>æœ€åæ¨èä¸€ä¸ªå¥½çš„ï¼Œå¿«é€Ÿçš„æµ‹è¯•æ­£åˆ™è¡¨è¾¾å¼çš„åœ¨çº¿ç½‘ç«™ï¼Œæˆ‘ç”¨èµ·æ¥å¾ˆä¸é”™(å±…ç„¶è¿˜æœ‰æ­£åˆ™è¡¨è¾¾å¼çš„è§£é‡Šï¼ŒçœŸæ˜¯æœ‰ç‚¹å¼ºå¤§å“ˆï¼Œè¿˜ä¸å¿«è‡ªå·±å°è¯•ä¸€ä¸‹)ï¼š<br><a href="https://regex101.com/" target="_blank" rel="noopener">https://regex101.com/</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ‰¾å‡ºä¸åŒ…å«æŸä¸ªå­—ç¬¦ä¸²çš„æ­£åˆ™è¡¨è¾¾å¼&quot;&gt;&lt;a href=&quot;#æ‰¾å‡ºä¸åŒ…å«æŸä¸ªå­—ç¬¦ä¸²çš„æ­£åˆ™è¡¨è¾¾å¼&quot; class=&quot;headerlink&quot; title=&quot;æ‰¾å‡ºä¸åŒ…å«æŸä¸ªå­—ç¬¦ä¸²çš„æ­£åˆ™è¡¨è¾¾å¼&quot;&gt;&lt;/a&gt;æ‰¾å‡ºä¸åŒ…å«æŸä¸ªå­—ç¬¦ä¸²çš„æ­£åˆ™è¡¨è¾¾å¼&lt;/h2&gt;&lt;p&gt;ç»å¸¸æˆ‘ä»¬ä¼šé‡åˆ°æƒ³æ‰¾å‡ºä¸åŒ…å«æŸ
      
    
    </summary>
    
      <category term="æ­£åˆ™è¡¨è¾¾å¼" scheme="http://gobodigo.com/categories/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    
    
      <category term="æ­£åˆ™è¡¨è¾¾å¼" scheme="http://gobodigo.com/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>React Component lifecycle</title>
    <link href="http://gobodigo.com/2017/07/18/react-life-cycle/"/>
    <id>http://gobodigo.com/2017/07/18/react-life-cycle/</id>
    <published>2017-07-18T04:17:55.000Z</published>
    <updated>2018-06-23T14:22:10.519Z</updated>
    
    <content type="html"><![CDATA[<h2 id="React-Component-lifecycle"><a href="#React-Component-lifecycle" class="headerlink" title="React Component lifecycle"></a>React Component lifecycle</h2><p>æœ€è¿‘åˆšå¼€å§‹ä½¿ç”¨react-nativeåšé¡¹ç›®ï¼Œæœ‰ä¸€äº›å¿ƒå¾—ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œå‘è¡¨ä¸€ä¸‹ã€‚å¯¹æ²¡æœ‰æ¥è§¦è¿‡çš„æŠ€æœ¯å’Œå¼€å‘ç¯å¢ƒï¼Œäº†è§£æ ¸å¿ƒcomponentçš„ç”Ÿå‘½å‘¨æœŸæ˜¯éå¸¸é‡è¦çš„ã€‚èƒ½å¤Ÿä¿è¯åœ¨å†™ä»£ç çš„è¿‡ç¨‹ä¸­ä¸å®¹æ˜“çŠ¯é”™ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯componentï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯componentï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯componentï¼Ÿ"></a>ä»€ä¹ˆæ˜¯componentï¼Ÿ</h3><p>æ ¹æ®Reactå®˜æ–¹æ–‡æ¡£ï¼Œ<strong>React.component</strong>æ˜¯ä¸€ä¸ªæŠ½è±¡åŸºç±»ã€‚èƒ½å¤Ÿè®©ä½¿ç”¨è€…å°†UIæ‹†æˆå„ä¸ªç‹¬ç«‹åœ°ï¼Œå¯é‡ç”¨çš„componentã€‚å¸¸è§çš„ä½¿ç”¨åœºæ™¯æ˜¯ç»§æ‰¿å®ƒå¹¶æä¾›ä¸€ä¸ª<strong>render()</strong>æ–¹æ³•ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Greeting</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> &lt;h1&gt;Hello, &#123;this.props.name&#125;&lt;/h1&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="React-lifecycle-methods"><a href="#React-lifecycle-methods" class="headerlink" title="React lifecycle methods"></a>React lifecycle methods</h2><p><img src="http://ot51d7lis.bkt.clouddn.com/React%20component%20life%20cycle2.png" alt=""></p><p>ä¸Šé¢è¿™å¼ å›¾å±•ç¤ºäº†ä¸€ä¸ªReact componentçš„å£°æ˜å‘¨æœŸï¼Œä»åˆ›å»ºåˆ°é”€æ¯ã€‚æ¥ä¸‹æ¥å°†é€æ­¥ä»‹ç»ä»¥ä¸Šå„ä¸ªæ–¹æ³•å¹¶é˜è¿°ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ä½¿ç”¨å®ƒä»¬ã€‚</p><blockquote><p>Mountå•è¯ï¼Œå­—å…¸ä¸Šçš„æ„æ€æ˜¯ï¼šâ€to get up on something above the level of the ground; especially:to seat oneself (as on a horse) for ridingâ€ åé¢è¿™æ®µæ„æ€å¾ˆå½¢è±¡ï¼Œéª‘ä¸Šé©¬ï¼Œå¯ä»¥è·‘äº† :[</p></blockquote><h3 id="componentWillMount"><a href="#componentWillMount" class="headerlink" title="componentWillMount"></a>componentWillMount</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">componentWillMount()</span><br></pre></td></tr></table></figure><p>å½“è¿™ä¸ªæ–¹æ³•è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œè¯´æ˜ä½ çš„componentå°†è¦å‡ºç°åœ¨å±å¹•ä¸Šã€‚æ¸²æŸ“æ–¹æ³•<strong>render</strong>å°†è¦è¢«è°ƒç”¨ã€‚åœ¨è¿™ä¸ªæ–¹æ³•å†…ä½ èƒ½å¹²ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ï¼Œä½ å¯èƒ½ä¸èƒ½å¹²å¤ªå¤šçš„äº‹æƒ…ã€‚å› ä¸ºå½“<strong>componentWillMount</strong>è¢«è°ƒç”¨çš„æ—¶å€™ï¼Œè¿˜æ²¡æœ‰ä»»ä½•componentèƒ½å¤Ÿä½¿ç”¨ï¼Œæ‰€ä»¥ä½ ä¹Ÿæ— æ³•å¯¹DOMåšä»»ä½•äº‹æƒ…ã€‚</p><p>å¦å¤–ï¼Œå¤§éƒ¨åˆ†åˆå§‹åŒ–å·²ç»è¢«componentçš„<strong>constructor</strong>å®Œæˆäº†(æ„é€ å‡½æ•°æ˜¯ä½ åˆå§‹åŒ–é»˜è®¤å€¼çš„æœ€ä½³åœ°æ–¹)</p><p>è¯´åˆ°è¿™é‡Œï¼Œä½ å¯èƒ½è§‰å¾—è¿™ä¸ªæ–¹æ³•çœŸæ²¡ç”¨ã€‚ä½†æ˜¯ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å¤–åœºæ™¯ï¼Œå°±æ˜¯å½“ä½ è¦åœ¨<strong>è¿è¡Œæ—¶</strong>ä¸ºæ•´ä¸ªapp<strong>åˆå§‹åŒ–å…¨å±€é…ç½®</strong>çš„æ—¶å€™, å¹¶ä¸”è¦ä¿è¯ç¬¬ä¸€æ—¶é—´åˆå§‹åŒ–æ–¹æ³•è¢«è°ƒç”¨ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯æœ‰ç‰¹åˆ«æœ‰ç”¨çš„ã€‚è¿™å°±æ„å‘³ç€ä½ çš„componentä¸­å‡ ä¹99%ä»¥ä¸Šéƒ½ä¸ä¼šç”¨åˆ°è¿™ä¸ªæ–¹æ³•ã€‚</p><p>ä½ å¯èƒ½ä¼šçœ‹åˆ°æœ‰äººåœ¨è¿™ä¸ªæ–¹æ³•é‡Œé¢å¯åŠ¨AJAX callsæˆ–è€…æ‰§è¡Œä¸€ä¸ªPromiseå‡½æ•°ã€‚ä¸è¦è¿™æ ·åšï¼Œä¸‹é¢ä¼šè¯¦ç»†è®²è¿°åŸå› ã€‚</p><blockquote><p><em>å¸¸ç”¨åœºæ™¯</em>ï¼šéœ€è¦åœ¨è¿è¡Œæ—¶ç¡®å®šçš„Appç›¸å…³çš„é…ç½®<br><em>æ˜¯å¦èƒ½å¤Ÿä½¿ç”¨setState</em>: å¦</p></blockquote><h3 id="componentDidMount"><a href="#componentDidMount" class="headerlink" title="componentDidMount"></a>componentDidMount</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">componentDidMount()</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ–¹æ³•è¿è¡Œæ—¶ï¼Œä½ çš„componentå·²ç»åŠ è½½ä¸Šå¹¶å·²å¯ä½¿ç”¨ã€‚åœ¨è¿™ä¸ªæ–¹æ³•é‡Œé¢ä½ å¯ä»¥åšå¾ˆå¤šäº‹æƒ…ï¼Œä¾‹å¦‚ï¼š</p><ul><li>åœ¨ä¸€ä¸ªå·²ç»æ¸²æŸ“å¥½çš„ç”»æ¿ä¸Šç»˜åˆ¶æ–°çš„å…ƒç´ </li><li>æ·»åŠ event listeners</li><li>åŠ è½½æ•°æ®ã€‚ä¸ºä»€ä¹ˆè¿™ä¸ªæ–¹æ³•é‡Œé¢é€‚åˆåŠ è½½æ•°æ®å‘¢ï¼Ÿå› ä¸ºä½ æ— æ³•ä¿è¯ä¸€ä¸ªå¼‚æ­¥çš„è¯·æ±‚åœ¨componentåŠ è½½å®Œæˆä¹‹å‰å®Œæˆï¼Œå®ƒæ˜¯ä¸ç¡®å®šçš„ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿˜å¯èƒ½ä¼šåœ¨component unmountä¹‹åè¯·æ±‚çš„responseæ‰è¿”å›å›æ¥ï¼Œè€Œè¿™ä¸ªæ—¶å€™å¦‚æœæ ¹æ®responseæ¥è®¾ç½®stateçš„è¯å°±ä¼šäº§ç”Ÿå¼‚å¸¸ã€‚ä½¿ç”¨componentDidMountè‡³å°‘å¯ä»¥ä¿è¯åœ¨ç»“æœè¿”å›ä¹‹å‰æ˜¯æœ‰componentå¯ä»¥ä½¿ç”¨çš„ï¼ˆä½†æ˜¯ï¼Œå¦‚æœresponseè¿”å›æ—¶ä¸è¿›è¡Œå¤„ç†çš„è¯ï¼Œä¹Ÿæœ‰å¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ã€‚æœ¬æ–‡æä¾›ä¸€ç§ES6 promiseçš„è§£å†³æ–¹æ¡ˆï¼Œè¯·çœ‹<a href="#cancelablePromise">make cancelable promise</a>ï¼‰</li></ul><p>åŸºæœ¬ä¸Šï¼Œä½ å¯ä»¥åšä»»ä½•äº‹æƒ…</p><blockquote><p><em>å¸¸ç”¨åœºæ™¯</em>ï¼šå‘èµ·Ajaxè¯·æ±‚æ¥åŠ è½½æ•°æ®<br><em>æ˜¯å¦èƒ½å¤Ÿä½¿ç”¨setState</em>: æ˜¯</p></blockquote><h3 id="componentWillReceiveProps"><a href="#componentWillReceiveProps" class="headerlink" title="componentWillReceiveProps"></a>componentWillReceiveProps</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">componentWillReceiveProps(nextProps)</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ–¹æ³•è¢«ç”¨æ¥æ¥æ”¶æ–°çš„propsã€‚ä¹Ÿè®¸ä¸€äº›æ•°æ®åœ¨parent componentä¸­åŠ è½½å¹¶è¢«ä¼ åˆ°å½“å‰compoentä¸­ã€‚</p><p>å½“componentèƒ½å¤Ÿå¯¹æ–°çš„propsåšå‡ºä»»ä½•åŠ¨ä½œä¹‹å‰ï¼ŒcomponentWillReceivePropsä¼šè¢«è°ƒç”¨ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">componentWillReceiveProps(nextProps) &#123;</span><br><span class="line"><span class="keyword">if</span>(nextProps.text !=== <span class="keyword">this</span>.props.text) &#123;</span><br><span class="line"><span class="keyword">this</span>.setState(&#123;<span class="attr">text</span>: nextProps.text&#125;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åŒæ—¶è®¿é—®å½“å‰propså’ŒnextPropsã€‚æ‰€ä»¥æˆ‘ä»¬è¦åšçš„å°±æ˜¯ï¼š</p><ul><li>æ£€æŸ¥propsæ˜¯å¦æœ‰å˜åŒ–</li><li>å¦‚æœæœ‰å˜åŒ–ï¼Œå°±åšå‡ºç›¸åº”çš„å˜åŒ–</li></ul><p><strong>æ³¨æ„</strong></p><ul><li>Reactä¹Ÿè®¸ä¼šåœ¨propsæ²¡æœ‰å˜åŒ–çš„æ—¶å€™è°ƒç”¨è¯¥æ–¹æ³•ã€‚æ‰€ä»¥æ€»æ˜¯åˆ¤æ–­propsæ˜¯å¦å˜åŒ–æ˜¯æœ‰å¿…è¦çš„ã€‚è¿™ç§æƒ…å†µå¯èƒ½å‘ç”Ÿåœ¨parent componentå¼•èµ·å½“å‰ç»„ä»¶re-renderã€‚</li><li>Reactä¸ä¼šåœ¨componentåˆå§‹åŒ–ï¼Œè®¾ç½®åˆå§‹propsçš„è°ƒç”¨è¯¥æ–¹æ³•</li><li>è°ƒç”¨<strong>this.setState</strong>é€šå¸¸ä¸ä¼šè§¦å‘è¯¥æ–¹æ³•</li></ul><blockquote><p><em>å¸¸ç”¨åœºæ™¯</em>ï¼šé’ˆå¯¹propsçš„å˜åŒ–åšå‡ºç›¸åº”çš„çŠ¶æ€æ”¹å˜<br><em>æ˜¯å¦èƒ½å¤Ÿä½¿ç”¨setState</em>: æ˜¯</p></blockquote><h3 id="shouldComponentUpdate"><a href="#shouldComponentUpdate" class="headerlink" title="shouldComponentUpdate"></a>shouldComponentUpdate</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shouldComponentUpdate(nextProps, nextState)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨è¿™ä¸ªæ–¹æ³•å‘Šè¯‰Reactå½“å‰stateæˆ–è€…propsçš„å˜åŒ–æ˜¯å¦ä¼šå¼•èµ·re-renderã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¸ªæ–¹æ³•æ€»æ˜¯è¿”å›trueï¼Œå³éœ€è¦re-renderã€‚å¦‚æœä½ æƒ³è¦é¿å…ä¸€äº›æ— æ„ä¹‰æˆ–è€…çº¯å±æµªè´¹çš„re-renderï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯ä½ æœ€å¥½çš„é€‰æ‹©ã€‚</p><p>P.S æ ¹æ®reactæœ€æ–°å®˜æ–¹æ–‡æ¡£ï¼Œç›®å‰ï¼Œå¦‚æœ<strong>shouldComponentUpdate</strong>æ–¹æ³•è¿”å›false,åˆ™componentWillUpdate(), render() å’Œ componentDidUpdate()æ–¹æ³•éƒ½ä¸ä¼šè¢«è°ƒç”¨ã€‚ä½†æ˜¯ï¼Œåœ¨æœªæ¥çš„reactç‰ˆæœ¬ä¸­ï¼Œ<strong> shouldComponentUpdate</strong>çš„è¿”å›å€¼åªå…·æœ‰å‚è€ƒä»·å€¼è€Œä¸æ˜¯å¼ºåˆ¶æ€§çš„ï¼Œæ‰€ä»¥æ–¹æ³•è¿”å›falseåcomponentä¹Ÿæœ‰å¯èƒ½ä¼šre-renderã€‚</p><blockquote><p><em>å¸¸ç”¨åœºæ™¯</em>ï¼šæ§åˆ¶componentæ˜¯å¦éœ€è¦re-render<br><em>æ˜¯å¦èƒ½å¤Ÿä½¿ç”¨setState</em>: NO</p></blockquote><h3 id="componentWillUpdate"><a href="#componentWillUpdate" class="headerlink" title="componentWillUpdate"></a>componentWillUpdate</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">componentWillUpdate(nextProps, nextState)</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ–¹æ³•åœ¨re-renderä¹‹å‰ä¼šè¢«è°ƒç”¨ã€‚è¿™ä¸ªæ–¹æ³•è·Ÿ<strong> componentWillReceiveProps</strong>ç±»ä¼¼ï¼Œåªæ˜¯ä½ ä¸èƒ½åœ¨è¯¥æ–¹æ³•é‡Œè°ƒç”¨this.setStateã€‚</p><p>å¦‚æœä½ çš„componentä½¿ç”¨äº†<strong>shouldComponentUpdate</strong>å¹¶ä¸”å½“propså˜åŒ–çš„æ—¶å€™éœ€è¦åšä¸€äº›äº‹æƒ…ï¼Œé‚£ä¹ˆ<strong>componentWillUpdate</strong>æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</p><blockquote><p><em>å¸¸ç”¨åœºæ™¯</em>ï¼šåœ¨æœ‰shouldComponentUpdateæ–¹æ³•çš„componentä¸­é…åˆç€ç”¨<br><em>æ˜¯å¦èƒ½å¤Ÿä½¿ç”¨setState</em>: NO</p></blockquote><h3 id="componentDidUpdate"><a href="#componentDidUpdate" class="headerlink" title="componentDidUpdate"></a>componentDidUpdate</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">componentDidUpdate(prevProps, prevState)</span><br></pre></td></tr></table></figure><p>åœ¨component æ›´æ–°ä¹‹åï¼Œä½¿ç”¨è¿™ä¸ªæ–¹æ³•æ¥æ“ä½œDOMã€‚è¿™ä¸ªæ–¹æ³•ä¹Ÿæ˜¯ä¸€ä¸ªå‘é€ç½‘ç»œè¯·æ±‚çš„å¥½çš„é€‰æ‹©ä¹‹ä¸€ï¼Œå‰ææ˜¯éœ€è¦åˆ¤æ–­å½“å‰propså’ŒprevPropsç›¸æ¯”æ˜¯å¦äº§ç”Ÿäº†å˜åŒ–ï¼ˆå¦‚æœpropsæ²¡æœ‰å˜åŒ–ï¼Œåˆ™ä¸éœ€è¦å‘é€ç½‘ç»œè¯·æ±‚ï¼‰</p><blockquote><p><em>å¸¸ç”¨åœºæ™¯</em>ï¼šæ ¹æ®propsæˆ–è€…stateçš„å˜åŒ–ï¼Œå¯¹DOMè¿›è¡Œç›¸åº”çš„å˜åŒ–<br><em>æ˜¯å¦èƒ½å¤Ÿä½¿ç”¨setState</em>: YES</p></blockquote><h3 id="componentDidUpdate-1"><a href="#componentDidUpdate-1" class="headerlink" title="componentDidUpdate"></a>componentDidUpdate</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">componentWillUnmount()</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ–¹æ³•ä¼šåœ¨componentä»å±å¹•ä¸Šç§»é™¤å’Œé”€æ¯ä¹‹å‰è°ƒç”¨ã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œä½ éœ€è¦è¿›è¡Œä»»ä½•å¿…è¦çš„æ¸…ç†å·¥ä½œï¼Œæ¯”å¦‚å–æ¶ˆnetwork requestï¼Œinvalidate timersï¼Œremove event listenersæˆ–è€…æ¸…é™¤ä»»ä½•åœ¨<strong>componentDidMount()</strong>ä¸­åˆ›å»ºçš„DOMå…ƒç´ ã€‚</p><blockquote><p><em>å¸¸ç”¨åœºæ™¯</em>ï¼šæ¸…ç†ä¸€åˆ‡éœ€è¦å¿…é¡»æ¸…ç†çš„èµ„æºï¼Œäº‹åŠ¡æˆ–è€…äº‹ä»¶<br><em>æ˜¯å¦èƒ½å¤Ÿä½¿ç”¨setState</em>: NO</p></blockquote><h2 id="make-cancelable-promise"><a href="#make-cancelable-promise" class="headerlink" title="make cancelable promise"></a><a id="cancelablePromise">make cancelable promise</a></h2><p>ä½¿ç”¨Promiseå‘èµ·å¼‚æ­¥è¯·æ±‚ï¼Œç­‰åˆ°å¼‚æ­¥è¯·æ±‚è¿”å›çš„æ—¶å€™ï¼Œcomponentæœ‰å¯èƒ½å·²ç»unmountedäº†ã€‚è¿™ä¸ªæ—¶å€™åœ¨responseçš„callbackå°è¯•setStateä¼šå¼•å‘å¼‚å¸¸ã€‚æ€ä¹ˆé¿å…è¿™ç§æƒ…å†µå‘¢ï¼Ÿ</p><p>æ„Ÿè°¢@istarkovæä¾›äº†ä¸€ç§å¯å–æ¶ˆçš„Promiseçš„æ–¹æ¡ˆï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> makeCancelable = <span class="function">(<span class="params">promise</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> hasCanceled_ = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> wrappedPromise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    promise.then(</span><br><span class="line">      val =&gt; hasCanceled_ ? reject(&#123;<span class="attr">isCanceled</span>: <span class="literal">true</span>&#125;) : resolve(val),</span><br><span class="line">      error =&gt; hasCanceled_ ? reject(&#123;<span class="attr">isCanceled</span>: <span class="literal">true</span>&#125;) : reject(error)</span><br><span class="line">    );</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    promise: wrappedPromise,</span><br><span class="line">    cancel() &#123;</span><br><span class="line">      hasCanceled_ = <span class="literal">true</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å¦‚ä½•ä½¿ç”¨ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> cancelablePromise = makeCancelable(</span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">r</span> =&gt;</span> component.setState(&#123;...&#125;&#125;))</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">cancelablePromise</span><br><span class="line">  .promise</span><br><span class="line">  .then(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'resolved'</span>))</span><br><span class="line">  .catch(<span class="function">(<span class="params">reason</span>) =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'isCanceled'</span>, reason.isCanceled));</span><br><span class="line"></span><br><span class="line">cancelablePromise.cancel(); <span class="comment">// Cancel the promise</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;React-Component-lifecycle&quot;&gt;&lt;a href=&quot;#React-Component-lifecycle&quot; class=&quot;headerlink&quot; title=&quot;React Component lifecycle&quot;&gt;&lt;/a&gt;React Compo
      
    
    </summary>
    
      <category term="javascript" scheme="http://gobodigo.com/categories/javascript/"/>
    
      <category term="react" scheme="http://gobodigo.com/categories/javascript/react/"/>
    
    
      <category term="javascript" scheme="http://gobodigo.com/tags/javascript/"/>
    
      <category term="react" scheme="http://gobodigo.com/tags/react/"/>
    
  </entry>
  
  <entry>
    <title>iOS å†…è´­å•†å“ç±»å‹</title>
    <link href="http://gobodigo.com/2017/07/16/ios-iap-product-types/"/>
    <id>http://gobodigo.com/2017/07/16/ios-iap-product-types/</id>
    <published>2017-07-16T14:49:27.000Z</published>
    <updated>2018-06-23T14:22:10.518Z</updated>
    
    <content type="html"><![CDATA[<h2 id="iOS-å†…è´­å•†å“ç±»å‹"><a href="#iOS-å†…è´­å•†å“ç±»å‹" class="headerlink" title="iOS å†…è´­å•†å“ç±»å‹"></a>iOS å†…è´­å•†å“ç±»å‹</h2><p>ç”±äºæœ€è¿‘çš„é¡¹ç›®æœ‰IAPï¼Œæ‰€ä»¥åˆé‡æ¸©äº†ä¸€éiOS IAPçš„çŸ¥è¯†ã€‚åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°ç½‘ç»œä¸Šçš„å„ç§æ–‡æ¡£éƒ½æœ‰ï¼Œå½“ç„¶æœ€è¯¦ç»†çš„è¿˜æ˜¯è‹¹æœå®˜æ–¹IAPæ–‡æ¡£ï¼Œä½†æ˜¯è‹¹æœå¯¹æ¯ç§ç±»å‹ä»‹ç»å¤ªå®˜æ–¹(å®˜è¯)ï¼Œè®©åˆšå¼€å§‹çœ‹çš„äººä¸å¤ªå®¹æ˜“å¼„æ‡‚æ¯ç§å•†å“çš„åŒºåˆ«ã€‚å¦å¤–ï¼Œæ·±åˆ»ç†è§£æ¯ç§å•†å“å¯¹åé¢çš„å¼€å‘éå¸¸æœ‰å¸®åŠ©ã€‚æ‰€ä»¥ï¼Œæˆ‘è§‰å¾—æœ‰å¿…è¦è¯´ä¸€ä¸‹ã€‚</p><p>IAPçš„ç±»å‹ä¸€å…±4ç§ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘å°†å¯¹æ¯ä¸€ç§è¿›è¡Œé€šä¿—æ˜“æ‡‚çš„è§£é‡Šã€‚</p><h3 id="Consumable-products-æ¶ˆè´¹ç±»å‹å†…è´­"><a href="#Consumable-products-æ¶ˆè´¹ç±»å‹å†…è´­" class="headerlink" title="Consumable products (æ¶ˆè´¹ç±»å‹å†…è´­)"></a>Consumable products (æ¶ˆè´¹ç±»å‹å†…è´­)</h3><p>è‹¹æœå®˜æ–¹è§£é‡Š</p><blockquote><p>Items that get used up over the course of running your app. Examples include minutes for a Voice over IP app and one-time services such as voice transcription.</p></blockquote><p>è¿™ç§äº§å“ç±»å‹åº”è¯¥å¤§å®¶éƒ½çŸ¥é“ï¼Œå¾ˆå¥½æ‡‚ã€‚ä½†æ˜¯å¦‚æœä»…æ ¹æ®è‹¹æœçš„ä¸¤ä¸ªä¾‹å­ï¼Œè¿™ä¸¤ä¸ªä¾‹å­éƒ½æ˜¯è·Ÿè¯­éŸ³é€šè¯ç›¸å…³ï¼Œä¸€ä¸ªæ²¡ä½¿ç”¨è¿‡ä»»ä½•å†…è´­çš„äººè¿˜çœŸä¸å¥½ç†è§£ã€‚é€šä¿—æ¥è®²ï¼Œå°±å¥½æ¯”ä½ å»èœå¸‚åœºé‡Œè¾¹ï¼Œä½ èŠ±Xå…ƒä¹°äº†Yä¸ªè‹¹æœï¼Œç„¶åè¿™ä¸ªäº¤æ˜“å°±å®Œæˆäº†ã€‚</p><p>è¯¥ç±»å‹çš„å†…è´­çš„ä¾‹å­å¾ˆå¤šï¼Œæ¯”å¦‚ä½ ç©æ¸¸æˆçš„æ—¶å€™ï¼ŒèŠ±äº†Xå…ƒä¹°äº†Nä¸ªé’»çŸ³ï¼›èŠ±Xå…ƒå…‘æ¢äº†Nä¸ªè™šæ‹Ÿå¸ç”¨äºè´­ä¹°appä¸­çš„æŸäº›è™šæ‹ŸæœåŠ¡ç­‰ã€‚</p><p>é¡¾åæ€ä¹‰ï¼Œè¿™ç§ç±»å‹çš„å•†å“çš„ç‰¹ç‚¹å°±æ˜¯å•†å“å¯æ¶ˆè€—ï¼Œå¯é‡å¤è´­ä¹°ã€‚æ¯æ¬¡è´­ä¹°çš„å€¼ä¸€èˆ¬éƒ½ä¼šå åŠ ã€‚å¦‚æœä¹°äº†åï¼Œç”¨æˆ·ä¸æ¶ˆè€—ï¼Œåˆ™ä¸€ç›´å­˜åœ¨ç”¨æˆ·ç›¸å…³çš„è´¦å·ä¸­ã€‚</p><h3 id="Non-consumable-products-éæ¶ˆè´¹ç±»å‹å†…è´­"><a href="#Non-consumable-products-éæ¶ˆè´¹ç±»å‹å†…è´­" class="headerlink" title="Non-consumable products (éæ¶ˆè´¹ç±»å‹å†…è´­)"></a>Non-consumable products (éæ¶ˆè´¹ç±»å‹å†…è´­)</h3><p>è¯¥ç§ç±»å‹çš„å•†å“ä¸»è¦ç”¨äºè§£é”appä¸Šçš„ä¸€äº›åŠŸèƒ½ï¼Œæˆ–è€…æ¸¸æˆçš„æŸä¸ªå…³å¡ï¼Œåˆæˆ–è€…æ˜¯è·å¾—æŸé¡¹ä¸»é¢˜ä¹‹ç±»çš„ã€‚æ€»ä¹‹å°±æ˜¯å½“ç”¨æˆ·è´­ä¹°åï¼Œè¿™ä¸ªå•†å“å°±ä¸€ç›´ç”Ÿæ•ˆï¼Œä¸éœ€è¦é‡å¤è´­ä¹°ã€‚</p><h3 id="Auto-renewable-subscriptions-è‡ªåŠ¨ç»­è´¹ç±»å‹çš„å†…è´­"><a href="#Auto-renewable-subscriptions-è‡ªåŠ¨ç»­è´¹ç±»å‹çš„å†…è´­" class="headerlink" title="Auto-renewable subscriptions (è‡ªåŠ¨ç»­è´¹ç±»å‹çš„å†…è´­)"></a>Auto-renewable subscriptions (è‡ªåŠ¨ç»­è´¹ç±»å‹çš„å†…è´­)</h3><p>è¿™ç§ç±»å‹çš„å•†å“æœ‰ç‚¹è·ŸNon-consumableå•†å“ç±»ä¼¼ï¼Œç›®çš„éƒ½æ˜¯ç”¨æˆ·ä»˜é’±åæä¾›appä¸­ç‰¹å®šçš„æŸäº›åŠŸèƒ½ã€‚æœ€å¤§çš„ä¸åŒæ˜¯ï¼Œè¯¥ç±»å•†å“æœ‰æ˜¯æœ‰æœŸé™çš„ã€‚æ¯”å¦‚ï¼ŒæŸäº›appçš„VIPç³»ç»Ÿï¼Œè¿™ç§ç³»ç»Ÿä¸€èˆ¬æŒ‰æœˆè®¡ç®—ï¼Œéœ€è¦ç”¨æˆ·æŒ‰ç…§ä»·æ ¼æ¯æœˆæ‰£è´¹ã€‚åªæœ‰ç”¨æˆ·ç»­è´¹åï¼ŒVIPæ‰ç”Ÿæ•ˆå¹¶ä¸”VIPç›¸å…³çš„ç‰¹æƒæ‰èƒ½å¤Ÿç”Ÿæ•ˆã€‚è¿‡æœŸä¸ç»­è´¹ï¼Œåˆ™VIPå¤±æ•ˆã€‚</p><p>è¯¥ç±»å•†å“ä¸Non-consumable productsçš„åŒºåˆ«æ˜¯</p><ul><li>æœ‰è¿‡æœŸæ—¶é—´</li><li>å¯é‡å¤è´­ä¹°(ç³»ç»Ÿè‡ªåŠ¨ç»­è®¢)</li><li>è¯¥ç±»å•†å“çš„å†…å®¹ä¸€èˆ¬éƒ½ä¼šä¸æ–­çš„æ›´æ–°</li></ul><p>ä¸Consumable productsçš„åŒºåˆ«æ˜¯</p><ul><li>è¿™ç§å•†å“ä¹°äº†å°±ç­‰äºå¼€å§‹æ¶ˆè€—ï¼Œä¸ç”¨ç”¨æˆ·ä¸»åŠ¨è¿›è¡Œåç»­æ“ä½œ</li><li>æœ‰è¿‡æœŸæ—¶é—´</li><li>è‹¹æœç³»ç»Ÿè‡ªåŠ¨å¸®ç”¨æˆ·ç»­è´¹è´­ä¹°</li></ul><h3 id="Non-renewable-subscriptions"><a href="#Non-renewable-subscriptions" class="headerlink" title="Non-renewable subscriptions"></a>Non-renewable subscriptions</h3><p>è¿™ç§ç±»å‹çš„å•†å“è·ŸAuto-renewable subscriptionsçš„å•†å“éå¸¸åƒï¼Œç›®çš„ä¹Ÿæ˜¯ä¸ºäº†ç»™ç”¨æˆ·æä¾›æŒç»­æœåŠ¡çš„ç±»å‹ã€‚æœ€å¤§çš„åŒºåˆ«æ˜¯ï¼Œä¸è¯¥å•†å“ç›¸å…³çš„ç»­è®¢çš„ä¿¡æ¯éƒ½ç”±ä½ çš„æœåŠ¡å™¨ä¿å­˜å’Œå¤„ç†ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå°±æ˜¯å¦‚æœä½ é€‰äº†Auto-renewable subscriptionsï¼Œåˆ™è‹¹æœå¸®ä½ æå®šä¸€åˆ‡ï¼ŒåŒ…æ‹¬ç”¨æˆ·çš„è‡ªåŠ¨ç»­è®¢ã€‚ä½†å¦‚æœä½ é€‰äº†Non-renewable subscriptionsåšä¸ºä½ æä¾›çš„å•†å“çš„ç±»å‹ï¼Œåˆ™ä½ éœ€è¦è´Ÿè´£ç»­è®¢ä»¥åŠè¿‡æœŸæ—¶é—´çš„ç®¡ç†ï¼Œä»¥åŠè®©ç”¨æˆ·è´­ä¹°çš„å•†å“åœ¨ç”¨æˆ·æ‰€æœ‰çš„è®¾å¤‡ä¸Šå¯ç”¨ï¼ˆåªè¦ç”¨æˆ·æ­£ç¡®ç™»å½•ä½ çš„æœåŠ¡å™¨ï¼‰ã€‚å“¦ï¼Œå¯¹äº†ï¼Œè¿˜æœ‰æ¢å¤è´­ä¹°ä¹Ÿéœ€è¦ä½ è´Ÿè´£ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;iOS-å†…è´­å•†å“ç±»å‹&quot;&gt;&lt;a href=&quot;#iOS-å†…è´­å•†å“ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;iOS å†…è´­å•†å“ç±»å‹&quot;&gt;&lt;/a&gt;iOS å†…è´­å•†å“ç±»å‹&lt;/h2&gt;&lt;p&gt;ç”±äºæœ€è¿‘çš„é¡¹ç›®æœ‰IAPï¼Œæ‰€ä»¥åˆé‡æ¸©äº†ä¸€éiOS IAPçš„çŸ¥è¯†ã€‚åœ¨å¼€å‘çš„è¿‡ç¨‹ä¸­
      
    
    </summary>
    
      <category term="iOS" scheme="http://gobodigo.com/categories/iOS/"/>
    
    
      <category term="iOS" scheme="http://gobodigo.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>ä»€ä¹ˆæ˜¯Javascript Hoistingï¼Ÿ</title>
    <link href="http://gobodigo.com/2017/07/08/javascript-Hoisting/"/>
    <id>http://gobodigo.com/2017/07/08/javascript-Hoisting/</id>
    <published>2017-07-07T16:06:58.000Z</published>
    <updated>2018-07-16T05:09:16.899Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯Javascript-hoisting"><a href="#ä»€ä¹ˆæ˜¯Javascript-hoisting" class="headerlink" title="ä»€ä¹ˆæ˜¯Javascript hoisting?"></a>ä»€ä¹ˆæ˜¯Javascript hoisting?</h2><p>Javascript hoisting å›½å†…ä¸€èˆ¬ç¿»è¯‘ä¸º<strong>å˜é‡æå‡</strong>ã€‚</p><p>Hoistingè¿™ä¸ªè¯æ˜¯ç”¨æ¥æè¿°Javascriptåœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå°¤å…¶æ˜¯åˆ›å»ºå’Œæ‰§è¡Œå˜é‡æ—¶æ—¶å¦‚ä½•å·¥ä½œçš„ã€‚ä½†æ˜¯ï¼Œhoistingä½¿å¾—Javascriptçš„æ‰§è¡Œå®¹æ˜“è¢«è¯¯è§£ã€‚ä¾‹å¦‚ï¼Œhoistingé€šå¸¸è¢«è®¤ä¸ºæ˜¯æŠŠå˜é‡æˆ–è€…æ–¹æ³•åœ¨è¿è¡Œæ—¶ç¯å¢ƒè¢«ç‰©ç†åœ°ç§»åŠ¨åˆ°ä»£ç çš„é¡¶éƒ¨ï¼Œä½†æ˜¯å®é™…ä¸Šå´ä¸æ˜¯è¿™æ ·ã€‚å®é™…ä¸Šå‘ç”Ÿçš„æ˜¯ï¼Œå˜é‡æˆ–è€…æ–¹æ³•çš„å£°æ˜åœ¨ç¼–è¯‘æ—¶å°±è¢«æå‰æ”¾å…¥å†…å­˜ï¼Œè€Œä»£ç ä»ç„¶æ”¾åˆ°åŸæ¥çš„ä½ç½®ä¸Šã€‚</p><p>æ¥ä¸‹æ¥ï¼Œé€šè¿‡å‡ ä¸ªä¾‹å­æ¥å¸®åŠ©ç†è§£</p><h2 id="æ–¹æ³•æå‡ä¾‹å­"><a href="#æ–¹æ³•æå‡ä¾‹å­" class="headerlink" title="æ–¹æ³•æå‡ä¾‹å­"></a>æ–¹æ³•æå‡ä¾‹å­</h2><p>å°†æ–¹æ³•çš„å£°æ˜åœ¨ä»»ä½•ä»£ç æ‰§è¡Œä¹‹å‰æ”¾å…¥å†…å­˜çš„å¥½å¤„æ˜¯èƒ½å¤Ÿåœ¨æ–¹æ³•å£°æ˜ä¹‹å‰å°±èƒ½å¤Ÿä½¿ç”¨å®ƒï¼Œå› ä¸ºå®ƒå·²ç»è¢«æå‰æ”¾å…¥å†…å­˜é‡Œäº†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">catName</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">"My cat's name is "</span> + name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">catName(<span class="string">"Tigger"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿è¡Œç»“æœæ˜¯: "My cat's name is Tigger"</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç æ˜¯ä¸€ä¸ªéå¸¸æ­£å¸¸çš„ä»£ç ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹å¦‚æœæŠŠè°ƒç”¨æ”¾åˆ°ç”³æ˜ä¹‹å‰ä¼šå‘ç”Ÿä»€ä¹ˆã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">catName(<span class="string">"Chloe"</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">catName</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"My cat's name is "</span> + name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿è¡Œç»“æœæ˜¯: "My cat's name is Chloe"</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¯ï¼Œè·Ÿæˆ‘ä»¬ä¹‹å‰å†™çš„ä»£ç è¿è¡Œçš„ç»“æœä¸€æ¨¡ä¸€æ ·ã€‚è¿™æ˜¯å› ä¸ºJavascriptå°±æ˜¯è¿™ä¹ˆè¿è¡Œçš„ã€‚</p><h2 id="å˜é‡æå‡ä¾‹å­"><a href="#å˜é‡æå‡ä¾‹å­" class="headerlink" title="å˜é‡æå‡ä¾‹å­"></a>å˜é‡æå‡ä¾‹å­</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">6</span>;</span><br><span class="line">num + <span class="number">7</span>;</span><br><span class="line"><span class="keyword">var</span> num; </span><br><span class="line"><span class="comment">/* åªè¦numå£°æ˜è¿‡ï¼Œæ— è®ºå®ƒåœ¨ä»€ä¹ˆä½ç½®ä¸Šï¼Œè¿™ä¸ªä»£ç éƒ½è¿è¡Œæ­£å¸¸*/</span></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>: Javascript åªæå‡å˜é‡çš„å£°æ˜ï¼Œè€Œä¸æå‡å˜é‡çš„å®šä¹‰ã€‚å¦‚æœä½ åœ¨å£°æ˜å’Œå®šä¹‰ä¹‹å‰è¯•å›¾è·å¾—å˜é‡çš„å€¼ï¼Œä½ ä¼šå¾—åˆ°undefinedã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>; <span class="comment">// åˆå§‹åŒ– x</span></span><br><span class="line"><span class="built_in">console</span>.log(x + <span class="string">" "</span> + y); <span class="comment">// '1 undefined'ï¼Œå› ä¸ºå®šä¹‰ä¸ä¼šè¢«æå‡</span></span><br><span class="line"><span class="keyword">var</span> y = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸‹é¢è¿™æ®µä»£ç çš„ç»“æœä¹Ÿæ˜¯ä¸€æ ·çš„</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>; <span class="comment">// Initialize x</span></span><br><span class="line"><span class="keyword">var</span> y; <span class="comment">// Declare y</span></span><br><span class="line"><span class="built_in">console</span>.log(x + <span class="string">" "</span> + y); <span class="comment">// '1 undefined'</span></span><br><span class="line">y = <span class="number">2</span>; <span class="comment">// Initialize y</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ä»€ä¹ˆæ˜¯Javascript-hoisting&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯Javascript-hoisting&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯Javascript hoisting?&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯Javascript hoist
      
    
    </summary>
    
      <category term="javascript" scheme="http://gobodigo.com/categories/javascript/"/>
    
    
      <category term="javascript" scheme="http://gobodigo.com/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>iOS memory types</title>
    <link href="http://gobodigo.com/2017/07/07/ios-memory-types/"/>
    <id>http://gobodigo.com/2017/07/07/ios-memory-types/</id>
    <published>2017-07-07T05:12:52.000Z</published>
    <updated>2018-06-23T14:22:10.519Z</updated>
    
    <content type="html"><![CDATA[<h2 id="iOS-memory"><a href="#iOS-memory" class="headerlink" title="iOS memory"></a>iOS memory</h2><h3 id="Clean-memory"><a href="#Clean-memory" class="headerlink" title="Clean memory"></a>Clean memory</h3><p>clean memory are memories that can be recreated, on iOS it is memory of:</p><ul><li>system framework</li><li>binary executable of your app</li><li>memory mapped files   </li></ul><p>Also notice this situation: when your app link to a framework, the clean memory will increase by the size of the framework binary. But most of time, only part of binary is really loaded in physical memory.</p><h3 id="Dirty-memory"><a href="#Dirty-memory" class="headerlink" title="Dirty memory"></a>Dirty memory</h3><p>All memory that is not clean memory is dirty memory, dirty memory canâ€™t be recreated by system.</p><p>When there is a memory pressure, system will unload some clean memory, when the memory is needed again, system will recreate them.</p><p>But for dirty memory, system canâ€™t unload them, and iOS has no swap mechanism, so dirty memory will always be kept in physical memory, till it reach a certain limit, then your App will be terminated and all memory for it is recycled by system.</p><h3 id="Virtual-memory"><a href="#Virtual-memory" class="headerlink" title="Virtual memory"></a>Virtual memory</h3><p><code>virtual memory = clean memory + dirty memory.</code><br>That means virtual memory is all the memory your App want.</p><h3 id="Resident-memory"><a href="#Resident-memory" class="headerlink" title="Resident memory"></a>Resident memory</h3><p><code>resident memory = dirty memory + clean memory that loaded in physical memory</code><br>resident memory is the memory really loaded in your physical memory, it mean all the dirty memory and parts of your clean memory.</p><h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>At any time, this is always true:<br><code>virtual memory == (clean memory + dirty memory) &gt; resident memory &gt; dirty memory</code><br>If you are worrying about the physical memory your App is taking(which is the key reason your App is terminated due to low memory), you should mainly focus on resident memory.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;iOS-memory&quot;&gt;&lt;a href=&quot;#iOS-memory&quot; class=&quot;headerlink&quot; title=&quot;iOS memory&quot;&gt;&lt;/a&gt;iOS memory&lt;/h2&gt;&lt;h3 id=&quot;Clean-memory&quot;&gt;&lt;a href=&quot;#Clean-mem
      
    
    </summary>
    
      <category term="iOS" scheme="http://gobodigo.com/categories/iOS/"/>
    
    
      <category term="iOS" scheme="http://gobodigo.com/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>æŸ¥æ‰¾ç´ æ•°</title>
    <link href="http://gobodigo.com/2017/07/07/find-primes/"/>
    <id>http://gobodigo.com/2017/07/07/find-primes/</id>
    <published>2017-07-07T04:13:17.000Z</published>
    <updated>2018-06-23T14:22:10.518Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ä¸ªEratosthenes-ç®—æ³•çš„å®ç°"><a href="#ä¸€ä¸ªEratosthenes-ç®—æ³•çš„å®ç°" class="headerlink" title="ä¸€ä¸ªEratosthenes ç®—æ³•çš„å®ç°"></a>ä¸€ä¸ªEratosthenes ç®—æ³•çš„å®ç°</h2><p><strong>è´¨æ•°çš„å®šä¹‰</strong></p><blockquote><p>è´¨æ•°ï¼ˆprime numberï¼‰åˆç§°ç´ æ•°ï¼Œæœ‰æ— é™ä¸ªã€‚è´¨æ•°å®šä¹‰ä¸ºåœ¨å¤§äº1çš„è‡ªç„¶æ•°ä¸­ï¼Œé™¤äº†1å’Œå®ƒæœ¬èº«ä»¥å¤–ä¸å†æœ‰å…¶ä»–å› æ•°ï¼Œè¿™æ ·çš„æ•°ç§°ä¸ºè´¨æ•°ã€‚</p></blockquote><p><strong>ç®—æ³•æ ¸å¿ƒæ€æƒ³</strong>ï¼š<br>è¿™ä¸ªç®—æ³•çš„ç›®çš„ä¸»è¦æ˜¯æ‰¾ç»™å®šè‡ªç„¶æ•°Nï¼Œæ‰¾åˆ°Nä»¥å†…çš„æ‰€æœ‰è´¨æ•°ã€‚ä¸‹é¢è¿™ä¸ªç®—æ³•çš„å®ç°çš„æ€æƒ³æ˜¯ï¼šè®¡ç®—å‡ºè´¨æ•°Pï¼Œç„¶åå°†è‡ªç„¶æ•°Nå†…æ‰€æœ‰èƒ½å¤Ÿæ•´é™¤Pçš„æ•°éƒ½å‰”é™¤æ‰ï¼Œä¹‹åè®¡ç®—å‡ºä¸‹ä¸€ä¸ªè´¨æ•°ï¼Œé‡å¤ä»¥ä¸Šè¿‡ç¨‹ç›´åˆ°æ‰€æœ‰æ•°éƒ½éå†è¿‡ä¸€æ¬¡ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">findPrimes</span><span class="params">(<span class="keyword">bool</span> *isPrimeFlags, <span class="keyword">const</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    isPrimeFlags[<span class="number">1</span>] = <span class="literal">false</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">unsigned</span> <span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n; i++) &#123;</span><br><span class="line">        isPrimeFlags[i] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–ï¼Œè®¾ç½®ç¬¬ä¸€ä¸ªç´ æ•°ä¸º2</span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> p = <span class="number">2</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//è®¾ç½®jä¸ºpçš„å¹³æ–¹çš„åŸå› æ˜¯</span></span><br><span class="line">    <span class="comment">//1. ä¾‹å¦‚ç´ æ•°7ï¼Œèƒ½å¤Ÿæ•´é™¤å®ƒçš„æ•°ä¸º14,21,28,35,42,49,56,63,etc. ä»¥æ­¤ç±»æ¨ï¼Œè®¾èƒ½å¤Ÿæ•´é™¤</span></span><br><span class="line">    <span class="comment">//å®ƒçš„æ•°ä¸ºK, åˆ™K = x * 7, è¿™é‡Œx &lt; 7æ—¶ï¼Œæ¯”å¦‚2ï¼Œåœ¨ç®—æ³•å¾ªç¯åˆå§‹çš„æ—¶å€™ï¼Œå·²ç»è¢«è®¾ç½®ä¸ºfalseäº†ï¼Œåˆ™æ²¡å¿…è¦å†</span></span><br><span class="line">    <span class="comment">//åœ¨ç´ æ•°ä¸º7çš„æ—¶å€™å†æ¯”è¾ƒä¸€æ¬¡äº†ã€‚</span></span><br><span class="line">    <span class="comment">//2. p * p å¦‚æœå¤§äºnï¼Œåˆ™èƒ½å¤Ÿæå‰é€€å‡ºè€Œä¸ç”¨éå†æ‰€æœ‰ä»2åˆ°Nçš„ç´ æ•°ã€‚ä¾‹å¦‚æ‰¾100å†…çš„æ‰€æœ‰ç´ æ•°çš„æ—¶å€™ï¼Œæ‰¾åˆ°11çš„æ—¶å€™ï¼Œ</span></span><br><span class="line">    <span class="comment">//11 * 11 &gt; 100 å°±èƒ½å¤Ÿæå‰é€€å‡ºäº†ã€‚ </span></span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> j = p * p;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (j &lt; n) &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//å°†æ‰€æœ‰èƒ½å¤Ÿæ•´é™¤pçš„æ•°éƒ½è®¾ç½®ä¸ºfalse</span></span><br><span class="line">        <span class="keyword">while</span>(j &lt; n) &#123;</span><br><span class="line">            isPrimeFlags[j] = <span class="literal">false</span>;</span><br><span class="line">            j += p;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//æ‰¾åˆ°ä¸‹ä¸€ä¸ªç´ æ•°</span></span><br><span class="line">        <span class="keyword">while</span>(!isPrimeFlags[++p] &amp;&amp; p &lt; n) &#123;&#125;</span><br><span class="line">        j = p * p;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Reference:<br><a href="https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Sieve_of_Eratosthenes</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ä¸€ä¸ªEratosthenes-ç®—æ³•çš„å®ç°&quot;&gt;&lt;a href=&quot;#ä¸€ä¸ªEratosthenes-ç®—æ³•çš„å®ç°&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ä¸ªEratosthenes ç®—æ³•çš„å®ç°&quot;&gt;&lt;/a&gt;ä¸€ä¸ªEratosthenes ç®—æ³•çš„å®ç°&lt;/h2&gt;&lt;
      
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://gobodigo.com/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://gobodigo.com/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>URL&amp;URL encoding</title>
    <link href="http://gobodigo.com/2015/10/15/URL-URL-encoding/"/>
    <id>http://gobodigo.com/2015/10/15/URL-URL-encoding/</id>
    <published>2015-10-15T15:42:00.000Z</published>
    <updated>2018-06-23T14:22:10.516Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h2><p>å½“æˆ‘ä»¬æµè§ˆç½‘é¡µçš„æ—¶å€™ï¼Œå…¶ä¸­æ¶‰åŠåˆ°ä¸å°‘æŠ€æœ¯ã€‚å…¶ä¸­ï¼Œæœ‰ä¸€é¡¹æœ€åŸºæœ¬çš„æœºåˆ¶ä½¿å¾—æˆ‘ä»¬å¯ä»¥é¡ºåˆ©çš„åœ¨æµ©ç€šçš„äº’è”ç½‘æµ·æ´‹ä¸­å¿«é€Ÿçš„å®šä½åˆ°æˆ‘ä»¬æƒ³è¦çš„èµ„æºå¹¶æ¥æ”¶æ•°æ®ã€‚è¿™é¡¹æŠ€æœ¯æ˜¯ç½‘é¡µçš„æ ¹æœ¬ï¼Œæ˜¯å½¢æˆäº’è”ç½‘çš„åŸºçŸ³ã€‚å®ƒå°±æ˜¯URLã€‚</p><p>URL è‹±æ–‡å…¨å Uniform resource locatorï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ã€‚ä¾‹å¦‚ï¼Œ<a href="http://www.baidu.com" target="_blank" rel="noopener">â€http://www.baidu.comâ€</a> æ˜¯ä¸€ä¸ªURLã€‚å…³äºURLæ€ä¹ˆå®šä¹‰ï¼Œè¯¥éµå®ˆä»€ä¹ˆè§„åˆ™ï¼Œæ˜¯æœ‰ç€ä¸€å¥—ä¸–ç•Œå…¬è®¤çš„è§„åˆ™çš„ï¼Œ<a href="http://tools.ietf.org/html/rfc1738" target="_blank" rel="noopener">ç¬¬ä¸€ç‰ˆè§„åˆ™æ˜¯åœ¨1994å¹´è¯ç”Ÿçš„</a>ã€‚</p><h2 id="ä¸€èˆ¬URLè¯­æ³•"><a href="#ä¸€èˆ¬URLè¯­æ³•" class="headerlink" title="ä¸€èˆ¬URLè¯­æ³•"></a>ä¸€èˆ¬URLè¯­æ³•</h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š<br><code>https://jay:123456@www.example.com:8080/file;p=1?q=2#section2</code></p><p>åˆ†è§£è¯¥URLï¼Œæˆ‘ä»¬èƒ½å¤Ÿè·å¾—ä»¥ä¸‹ä¿¡æ¯ï¼š</p><table><thead><tr><th style="text-align:left">ç»„ä»¶å</th><th style="text-align:right">æ•°æ®</th></tr></thead><tbody><tr><td style="text-align:left">scheme</td><td style="text-align:right">https</td></tr><tr><td style="text-align:left">user</td><td style="text-align:right">jay</td></tr><tr><td style="text-align:left">password</td><td style="text-align:right">123456</td></tr><tr><td style="text-align:left">host address</td><td style="text-align:right">www.example.com</td></tr><tr><td style="text-align:left">port</td><td style="text-align:right">8080</td></tr><tr><td style="text-align:left">path</td><td style="text-align:right">file</td></tr><tr><td style="text-align:left">path parameter</td><td style="text-align:right">p=1</td></tr><tr><td style="text-align:left">query parameter</td><td style="text-align:right">q=2</td></tr><tr><td style="text-align:left">fragment</td><td style="text-align:right">section2</td></tr></tbody></table><h2 id="HTTP-URL-è¯­æ³•"><a href="#HTTP-URL-è¯­æ³•" class="headerlink" title="HTTP URL è¯­æ³•"></a>HTTP URL è¯­æ³•</h2><p>HTTP URLçš„schemeé€šå¸¸ç»„æˆä¸º</p><ol><li>Scheme: httpæˆ–è€…https</li><li>Path: æŒ‡å®šè·å–æ•°æ®çš„è·¯å¾„</li><li>Queryå‚æ•°ï¼ˆå¯é€‰ï¼‰</li><li>fragmentå‚æ•°ï¼ˆå¯é€‰ï¼‰</li></ol><h2 id="Path-ä¸-Path-parameters"><a href="#Path-ä¸-Path-parameters" class="headerlink" title="Path ä¸ Path parameters"></a>Path ä¸ Path parameters</h2><p>å…¶ä¸­ï¼ŒPathè·Ÿæˆ‘ä»¬ç†ŸçŸ¥çš„æ–‡ä»¶è·¯å¾„éå¸¸ç±»ä¼¼ã€‚Pathé€šå¸¸æ˜¯ä»¥ä¸€ä¸ªâ€œ/â€å¼€å¤´ï¼Œæ¯ä¸€ä¸ªæ–‡ä»¶å¤¹åˆéƒ½è¢«ä¸€ä¸ªâ€/â€äº’ç›¸åˆ†éš”ï¼Œä¾‹å¦‚â€/Study/URLSyntax/starter/first.docxâ€åˆ†ä¸ºå››ä¸ªéƒ¨åˆ†ï¼šâ€studyâ€ï¼Œâ€URLSyntaxâ€ï¼Œâ€starterâ€ï¼Œâ€first.docxâ€ã€‚</p><p>æ¯ä¸€ä¸ªPathéƒ¨åˆ†åéƒ½èƒ½å¤Ÿè·Ÿä¸€ä¸ªå¯é€‰çš„å‚æ•°(path parameters)éƒ¨åˆ†ï¼Œåˆ¤æ–­çš„æ ¹æ®æ˜¯ä»¥â€;â€å­—ç¬¦å¼€å§‹ã€‚å‚æ•°å¯ä»¥æœ‰å¤šä¸ªï¼Œå¹¶ä»¥â€;â€åˆ†éš”ã€‚æ¯ä¸ªå‚æ•°éƒ½æœ‰å€¼ï¼Œä»¥â€=â€åˆ†éš”ï¼Œä¾‹å¦‚â€/file;a=1â€ï¼Œå®šä¹‰äº†â€fileâ€è¿™ä¸ªpathçš„å‚æ•°ä¸ºâ€aâ€ï¼Œå€¼ä¸ºâ€1â€ã€‚è¿™äº›å‚æ•°æ˜¯å¾ˆå°‘ç”¨åˆ°çš„ï¼Œä½†æ˜¯ä»–ä»¬æ˜¯ç¡®å®å­˜åœ¨çš„ã€‚</p><h2 id="Query"><a href="#Query" class="headerlink" title="Query"></a>Query</h2><p>åœ¨Pathåé¢ä»¥â€?â€å¼€å§‹çš„éƒ¨åˆ†å°±æ˜¯Queryäº†ï¼ŒQueryåŒ…å«ä¸€ç»„ä»¥â€&amp;â€åˆ†éš”çš„å‚æ•°ä¸æ•°å€¼å¯¹ã€‚å‚æ•°åŠå…¶æ•°å€¼ä»¥â€=â€åˆ†éš”ã€‚ä¾‹å¦‚ï¼Œâ€?url=<a href="http://domain.tld/&amp;title=The" target="_blank" rel="noopener">http://domain.tld/&amp;title=The</a> title of a postâ€ï¼Œå®šä¹‰äº†ä¸¤ä¸ªå‚æ•°â€urlâ€å’Œâ€titleâ€ï¼Œä»–ä»¬çš„å€¼åˆ†åˆ«ä¸ºâ€<a href="http://domain.tldâ€œå’Œâ€The" target="_blank" rel="noopener">http://domain.tldâ€œå’Œâ€The</a> title of a postâ€ã€‚Query ç”¨çš„æœ€å¤šçš„æƒ…å†µæ˜¯æäº¤ä¸€ä¸ªformçš„æ—¶å€™æˆ–è€…æ˜¯æœç´¢çš„æ—¶å€™ã€‚</p><h2 id="Fragment"><a href="#Fragment" class="headerlink" title="Fragment"></a>Fragment</h2><p>Fragmentæ˜¯ç”¨æ¥å®šä½åˆ°å½“å‰é¡µé¢æŸä¸€ä¸ªå…·ä½“ä½ç½®çš„urléƒ¨åˆ†ã€‚åœ¨urléƒ¨åˆ†ä»¥â€#â€å¼€å§‹çš„éƒ¨åˆ†ä¸ºfragmentã€‚</p><h2 id="URL-encoding"><a href="#URL-encoding" class="headerlink" title="URL encoding"></a>URL encoding</h2><p>å¥½äº†ï¼ŒèŠå®ŒURLåŸºæœ¬ç»„æˆéƒ¨åˆ†ï¼Œæ¥ä¸‹æ¥å°±è¦ä»‹ç»URL encodingäº†ã€‚ç»å¸¸ä¸Šç½‘çš„åŒå­¦ä¸€å®šå¯¹ä¸‹é¢è¿™ç§URLä¸é™Œç”Ÿå§ï¼Ÿ<br><a href="https://www.baidu.com/s?ie=utf-8&amp;f=8&amp;rsv_bp=1&amp;rsv_idx=2&amp;tn=baiduhome_pg&amp;wd=%E7%BA%A2%E7%B1%B3note2&amp;rsv_spt=1&amp;oq=green&amp;rsv_pq=947783b70000" target="_blank" rel="noopener">https://www.baidu.com/s?ie=utf-8&amp;f=8&amp;rsv_bp=1&amp;rsv_idx=2&amp;tn=baiduhome_pg&amp;wd=%E7%BA%A2%E7%B1%B3note2&amp;rsv_spt=1&amp;oq=green&amp;rsv_pq=947783b70000</a></p><p>å¯ä»¥çœ‹åˆ°ï¼Œè¯¥URLåŒ…æ‹¬äº†ä¸€äº›ç¥ç§˜çš„å­—ç¬¦ï¼Œä¾‹å¦‚â€wd=%E7%BA%A2%E7%B1%B3note2â€ï¼Œä¸€èˆ¬çš„äººæ˜¯æ— æ³•è¯»çš„ã€‚è¿™å°±æ˜¯è¢«ç¼–ç åçš„æ ·å­äº†ã€‚</p><p>ä¸ºä»€ä¹ˆç»™URL ç¼–ç å‘¢ï¼ŸåŸå› å¾ˆç®€å•ï¼Œå› ä¸ºå¦‚æœå…è®¸ä»»æ„å­—ç¬¦çš„è¯ï¼Œè§£æURLçš„ä»»åŠ¡å°†ä¼šéå¸¸è‰°å·¨è€Œä¸”æ•ˆç‡ä½ä¸‹ï¼Œæ¯”å¦‚URLå…è®¸ä¸­æ–‡æˆ–è€…é˜¿æ‹‰ä¼¯æ–‡ã€‚æ‰€ä»¥W3Cç»„ç»‡å°±è§„å®šäº†ä¸€å¥—åè®®ï¼Œç°åœ¨æœ€æ–°çš„åº”è¯¥æ˜¯<a href="https://tools.ietf.org/html/rfc3986" target="_blank" rel="noopener">RFC 3986</a>ï¼Œæœ‰å…´è¶£æ·±å…¥ç ”ç©¶çš„åŒå­¦æ¨èé˜…è¯»ã€‚ç¼–ç å°±æ˜¯å¯¹URLæ¯ä¸ªéƒ¨åˆ†ï¼Œä¸å…è®¸å‡ºç°çš„å­—ç¬¦è¿›è¡Œç¼–ç ã€‚é‚£ä¹ˆå…è®¸çš„å­—ç¬¦æœ‰å“ªäº›å‘¢ï¼Ÿå¦‚ä¸‹æ‰€ç¤ºï¼š<br><img src="http://img.blog.csdn.net/20151016130703641" alt=""><br>æ‘˜å–è‡ª:<a href="https://en.wikipedia.org/wiki/Percent-encoding#Types_of_URI_characters." target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Percent-encoding#Types_of_URI_characters.</a></p><p>URL encodingä»‹ç»çš„å·®ä¸å¤šäº†ï¼Œç°åœ¨æ¥è®²è®²URL encodingéœ€è¦æ³¨æ„çš„é—®é¢˜ã€‚</p><h2 id="URL-encoding-é™·é˜±"><a href="#URL-encoding-é™·é˜±" class="headerlink" title="URL encoding é™·é˜±"></a>URL encoding é™·é˜±</h2><p>RFCæ ‡å‡†ä¸­æ²¡æœ‰æŒ‡æ˜ä½¿ç”¨å“ªç§ç‰¹å®šçš„ç¼–ç æ ¼å¼æ¥å¯¹url è¿›è¡Œç¼–ç ã€‚ä¸€èˆ¬æ¥è¯´ASCIIå­—ç¬¦éƒ½æ˜¯å¯ä»¥è¢«ä½¿ç”¨çš„ï¼Œä½†æ˜¯å¯¹äºä¿ç•™å­—ç¬¦(reserved characters)å’ŒéASCIIå­—ç¬¦ï¼Œæˆ‘ä»¬å¿…é¡»è€ƒè™‘éœ€è¦ä½¿ç”¨å“ªç§ç¼–ç æ–¹å¼æ¥è¿›è¡Œç¼–ç ã€‚æœ€æ–°çš„RFCæ ‡å‡†æ˜¯ä½¿ç”¨UTF-8æ¥è¿›è¡Œç¼–ç ã€‚ä½†æ˜¯ï¼Œå¼€å‘è€…ä¹Ÿè®¸ä¹Ÿä¼šé‡åˆ°ä¸æ˜¯ç”¨UTF-8ç¼–ç çš„æ—¶å€™ã€‚ã€‚ã€‚</p><p>å¯¹äºHTTP URTsæ¥è¯´ï¼Œç©ºæ ¼ç¬¦å·åœ¨Pathéƒ¨åˆ†ä¼šè¢«ç¼–ç ä¸ºâ€%20â€ï¼Œè€Œâ€+â€æ˜¯ä¸ç”¨è¢«ç¼–ç çš„ã€‚<br>å¯¹äºQueryéƒ¨åˆ†æ¥è¯´ï¼Œç©ºæ ¼ç¬¦å·ä¼šè¢«ç¼–ç ä¸ºâ€+â€æˆ–è€…â€%20â€ï¼Œè€Œâ€+â€ä¼šè¢«ç¼–ç ä¸ºâ€%2Bâ€ã€‚</p><p>è¿™æ ·å°±æ„å‘³ç€ä¸€ä¸ªå­—ç¬¦ä¸²åœ¨ä¸åŒçš„éƒ¨åˆ†å°±ä¼šè¢«ç¼–ç ä¸ºä¸åŒçš„å½¢å¼ã€‚ä¾‹å¦‚â€blue+light blueâ€å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼š<a href="http://example.com/blue+light%20blue?blue%2Blight+blueâ€œã€‚ä»è¿™ä¸ªä¾‹å­å¯ä»¥çœ‹å‡ºå¦‚æœå¯¹URLè¯­æ³•ä¸ç†Ÿæ‚‰çš„è¯ï¼Œæ˜¯æ— æ³•å¯¹ä¸€ä¸ªURLè¿›è¡Œç¼–ç çš„ã€‚è¦å¯¹URLè¿›è¡Œç¼–ç ï¼Œå°±éœ€è¦çŸ¥é“æ¯ä¸€éƒ¨åˆ†å¯¹åº”çš„ä¿ç•™å­—ç¬¦æ˜¯å“ªäº›è€Œä¸æ˜¯ç®€å•çš„å¯¹URLè¿›è¡Œéå†å¹¶ç¼–ç ã€‚" target="_blank" rel="noopener">http://example.com/blue+light%20blue?blue%2Blight+blueâ€œã€‚ä»è¿™ä¸ªä¾‹å­å¯ä»¥çœ‹å‡ºå¦‚æœå¯¹URLè¯­æ³•ä¸ç†Ÿæ‚‰çš„è¯ï¼Œæ˜¯æ— æ³•å¯¹ä¸€ä¸ªURLè¿›è¡Œç¼–ç çš„ã€‚è¦å¯¹URLè¿›è¡Œç¼–ç ï¼Œå°±éœ€è¦çŸ¥é“æ¯ä¸€éƒ¨åˆ†å¯¹åº”çš„ä¿ç•™å­—ç¬¦æ˜¯å“ªäº›è€Œä¸æ˜¯ç®€å•çš„å¯¹URLè¿›è¡Œéå†å¹¶ç¼–ç ã€‚</a></p><p>æ¯ä¸ªéƒ¨åˆ†çš„ä¿ç•™å­—ç¬¦</p><ul><li>â€œ?â€åœ¨Queryéƒ¨åˆ†æ˜¯ä¸ç”¨è¢«ç¼–ç çš„</li><li>â€œ/â€åœ¨Queryéƒ¨åˆ†ä¹Ÿæ˜¯ä¸ç”¨è¢«ç¼–ç çš„</li><li>â€œ:@-._~!$&amp;â€™()*+,;=â€åœ¨Pathéƒ¨åˆ†æ˜¯ä¸ç”¨è¢«ç¼–ç çš„</li><li>â€œ/?:@-._~!$&amp;â€™()*+,;=â€åœ¨fragmentéƒ¨åˆ†æ˜¯ä¸ç”¨è¢«ç¼–ç çš„</li></ul><h2 id="è§£ç åçš„URLæ— æ³•è¢«æ­£ç¡®åˆ†æ"><a href="#è§£ç åçš„URLæ— æ³•è¢«æ­£ç¡®åˆ†æ" class="headerlink" title="è§£ç åçš„URLæ— æ³•è¢«æ­£ç¡®åˆ†æ"></a>è§£ç åçš„URLæ— æ³•è¢«æ­£ç¡®åˆ†æ</h2><p>é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥åˆ†ææ›´æ¸…æ¥šï¼š<br><code>â€http://example.com/blue%2Fred%3Fand+greenâ€</code></p><p>è¯¥URLæœ‰å¦‚ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p><table><thead><tr><th style="text-align:left">éƒ¨åˆ†</th><th style="text-align:right">å€¼</th></tr></thead><tbody><tr><td style="text-align:left">scheme</td><td style="text-align:right">http</td></tr><tr><td style="text-align:left">host</td><td style="text-align:right">example.com</td></tr><tr><td style="text-align:left">path</td><td style="text-align:right">blue%2Fred%3Fand+green</td></tr><tr><td style="text-align:left">è§£ç åçš„path</td><td style="text-align:right">blue/red?and+green</td></tr></tbody></table><p>åˆ†æåï¼Œå¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬æ˜¯åœ¨æ‰¾ä¸€ä¸ªâ€blue/red?and+greenâ€çš„èµ„æºï¼Œè€Œä¸æ˜¯æ‰¾ä¸€ä¸ªåœ¨blueæ–‡ä»¶å¤¹ä¸‹çš„â€red?and+greenâ€çš„èµ„æºã€‚</p><p>å¦‚æœæˆ‘ä»¬é¦–å…ˆå¯¹URLè§£ç ï¼Œç„¶åå†åˆ†æå‘¢ï¼Ÿè§£ç åçš„URL:<br><code>â€http://example.com/blue/red?and+greenâ€</code></p><table><thead><tr><th style="text-align:left">éƒ¨åˆ†</th><th style="text-align:right">å€¼</th></tr></thead><tbody><tr><td style="text-align:left">scheme</td><td style="text-align:right">http</td></tr><tr><td style="text-align:left">host</td><td style="text-align:right">example.com</td></tr><tr><td style="text-align:left">path</td><td style="text-align:right">blue/red</td></tr><tr><td style="text-align:left">query parameter name</td><td style="text-align:right">and+green</td></tr></tbody></table><p>å¾ˆæ˜æ˜¾ï¼Œè¿™ä¸ªæ˜¯é”™è¯¯çš„ã€‚è¿™ä¸ªä¾‹å­å‘Šè¯‰æˆ‘ä»¬ï¼Œåˆ†æå¹¶æ‹†è§£ä¸€ä¸ªURLå¿…é¡»è¦åœ¨è§£ç ä¹‹å‰è¿›è¡Œã€‚</p><h2 id="è§£ç åçš„URLæœ‰å¯èƒ½æ— æ³•è¢«ç¼–ç å›åŸæ¥çš„æ ¼å¼"><a href="#è§£ç åçš„URLæœ‰å¯èƒ½æ— æ³•è¢«ç¼–ç å›åŸæ¥çš„æ ¼å¼" class="headerlink" title="è§£ç åçš„URLæœ‰å¯èƒ½æ— æ³•è¢«ç¼–ç å›åŸæ¥çš„æ ¼å¼"></a>è§£ç åçš„URLæœ‰å¯èƒ½æ— æ³•è¢«ç¼–ç å›åŸæ¥çš„æ ¼å¼</h2><p>å¦‚æœå¯¹â€<a href="http://example.com/blue%2Fred%3Fand+greenâ€œè§£ç ï¼Œä½ å°†å¾—åˆ°â€http://example.com/blue/red?and+greenâ€œï¼Œç„¶ååˆè¿›è¡Œç¼–ç ï¼Œä½ å°†å¾—åˆ°â€http://example.com/blue/red?and+greenâ€œï¼Œå› ä¸ºè¿™ä¸ªæ˜¯åˆæ³•çš„URLä¸éœ€è¦è¿›è¡Œcharacter" target="_blank" rel="noopener">http://example.com/blue%2Fred%3Fand+greenâ€œè§£ç ï¼Œä½ å°†å¾—åˆ°â€http://example.com/blue/red?and+greenâ€œï¼Œç„¶ååˆè¿›è¡Œç¼–ç ï¼Œä½ å°†å¾—åˆ°â€http://example.com/blue/red?and+greenâ€œï¼Œå› ä¸ºè¿™ä¸ªæ˜¯åˆæ³•çš„URLä¸éœ€è¦è¿›è¡Œcharacter</a> escapeã€‚</p><p>å‚è€ƒåŸæ–‡ï¼š<br><a href="http://blog.lunatech.com/2009/02/03/what-every-web-developer-must-know-about-url-encoding" target="_blank" rel="noopener">http://blog.lunatech.com/2009/02/03/what-every-web-developer-must-know-about-url-encoding</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ä»‹ç»&quot;&gt;&lt;a href=&quot;#ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;ä»‹ç»&quot;&gt;&lt;/a&gt;ä»‹ç»&lt;/h2&gt;&lt;p&gt;å½“æˆ‘ä»¬æµè§ˆç½‘é¡µçš„æ—¶å€™ï¼Œå…¶ä¸­æ¶‰åŠåˆ°ä¸å°‘æŠ€æœ¯ã€‚å…¶ä¸­ï¼Œæœ‰ä¸€é¡¹æœ€åŸºæœ¬çš„æœºåˆ¶ä½¿å¾—æˆ‘ä»¬å¯ä»¥é¡ºåˆ©çš„åœ¨æµ©ç€šçš„äº’è”ç½‘æµ·æ´‹ä¸­å¿«é€Ÿçš„å®šä½åˆ°æˆ‘ä»¬æƒ³è¦çš„èµ„æºå¹¶æ¥æ”¶æ•°æ®
      
    
    </summary>
    
      <category term="http" scheme="http://gobodigo.com/categories/http/"/>
    
    
      <category term="http" scheme="http://gobodigo.com/tags/http/"/>
    
  </entry>
  
  <entry>
    <title>Objective-C Dynamic binding ç ”ç©¶</title>
    <link href="http://gobodigo.com/2015/09/22/objc-dynamic-binding/"/>
    <id>http://gobodigo.com/2015/09/22/objc-dynamic-binding/</id>
    <published>2015-09-22T15:30:00.000Z</published>
    <updated>2018-06-23T14:22:10.519Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Objective-C-Dynamic-binding-ç ”ç©¶"><a href="#Objective-C-Dynamic-binding-ç ”ç©¶" class="headerlink" title="Objective-C Dynamic binding ç ”ç©¶"></a>Objective-C Dynamic binding ç ”ç©¶</h2><p>å¯¹äºä¹ æƒ¯ç¼–å†™é™æ€ç¼–ç¨‹è¯­è¨€(C#/java/C++)çš„åŒå­¦ï¼Œåˆè¯†Objective-Cï¼Œå¯èƒ½ä¼šè·Ÿæˆ‘æœ‰ä¸€æ ·çš„è¿·æƒ‘ã€‚ä»€ä¹ˆè¿·æƒ‘å‘€ï¼Ÿè¯·çœ‹ä¸‹é¢è¿™æ®µocçš„ä»£ç ï¼š</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">MyObject</span> : <span class="title">NSObject</span></span></span><br><span class="line">+ (<span class="keyword">id</span>)factoryMethod;</span><br><span class="line">-(<span class="built_in">NSString</span>*)tell;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">MyObject</span></span></span><br><span class="line">+ (<span class="keyword">id</span>)factoryMethodB &#123; <span class="keyword">return</span> [[[<span class="keyword">self</span> <span class="keyword">class</span>] alloc] init]; &#125;</span><br><span class="line">- (<span class="built_in">NSString</span>*)tell</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">@"I'm MyObject"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">MyOtherObject</span> : <span class="title">NSObject</span></span></span><br><span class="line">-(<span class="keyword">void</span>)say;</span><br><span class="line">-(<span class="built_in">NSString</span>*)tell;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">MyOtherObject</span></span></span><br><span class="line">-(<span class="keyword">void</span>)say</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"Hello world"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">-(<span class="built_in">NSString</span>*)tell</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">@"I'm MyOtherObject"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> DoSometing()</span><br><span class="line">&#123;</span><br><span class="line">MyOtherObject *obj = [MyObject factoryMethod]; (<span class="number">1</span>)</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,[obj tell]);                       (<span class="number">2</span>)</span><br><span class="line">[obj say];                                     (<span class="number">3</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç é¡ºåˆ©é€šè¿‡ç¼–è¯‘ã€‚è°ƒç”¨DoSomethingï¼Œè¿è¡Œåˆ°ç¬¬(3)è¡Œæ—¶å‡ºé”™ã€‚å…ˆæ¥çœ‹ç¬¬ï¼ˆ1ï¼‰è¡Œï¼Œæˆ‘æ‰“èµŒè¿™è¡Œå·²ç»è®©åªç†Ÿæ‚‰é™æ€è¯­è¨€çš„ç¨‹åºå‘˜ä»¬ä¸æ˜ç™½äº†ï¼Œå› ä¸ºç…§ç†æ¥è¯´ï¼ŒMyObjectçš„factoryMethodè¿”å›çš„æ˜¯è‡ªå·±çš„å®ä¾‹ï¼Œè¦æ˜¯ç”¨åˆ«çš„è¯­è¨€ç¼–å†™ï¼Œç¼–è¯‘å™¨ç¬¬(1)è¡Œå°±æŠ¥é”™äº†ï¼Œå› ä¸ºç±»å‹ä¸åŒ¹é…å‘€ã€‚ä¸ºä»€ä¹ˆOCçš„ç¼–è¯‘å™¨ä¸æŠ¥é”™å‘¢ï¼Ÿä¸æ€¥ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹è¿™ä¸ªè¿”å›å€¼<strong>id</strong>çš„å®šä¹‰ï¼š</p><blockquote><p>Objective-C provides a special type that can hold a pointer to any<br>object you can construct with Objective-Câ€”regardless of class. This<br>type is called id, and can be used to make your Objective-C<br>programming generic. ï¼ˆå¤§è‡´æ„æ€å°±æ˜¯idæ˜¯ä¸€ä¸ªä¸ç±»å‹æ— å…³çš„æŒ‡å‘ä»»æ„å¯¹è±¡çš„ä¸œä¸œã€‚èƒ½å¤Ÿè®©ä½ OCç¼–ç¨‹æ³›å‹åŒ–ã€‚ï¼‰</p></blockquote><p>å‡ ä¸ªæ„æ€å‘¢ï¼Ÿå…¶å®idå°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä½†æ˜¯å®ƒåˆä¸åŒäºc/c++é‡Œé¢çš„void<em>ã€‚void</em>æ˜¯æŒ‡å‘å†…å­˜ä¸­ä»»æ„å—çš„æœªçŸ¥å¯¹è±¡æˆ–è€…æœªçŸ¥å†…å®¹çš„ã€‚idå¾ˆæ˜ç¡®ï¼Œå®ƒå°±æ˜¯ç”¨æ¥æŒ‡å‘OCå¯¹è±¡çš„ã€‚ï¼ˆå…³äºvoid*æ˜¯å¦èƒ½è½¬æ¢ä¸ºOCå¯¹è±¡è¿™é‡Œæš‚æ—¶ä¸è®¨è®ºï¼‰ã€‚å¥½äº†ï¼Œè¿™å°±è§£é‡Šäº†ç¬¬(1)è¡Œçš„å¯è¡Œæ€§ã€‚</p><p>è¿è¡Œåˆ°ç¬¬äºŒè¡Œçš„æ—¶å€™ï¼ŒNSLogè¾“å‡º:</p><blockquote><p>Iâ€™m MyObject</p></blockquote><p>å®ƒå±…ç„¶æ­£ç¡®çš„è°ƒç”¨äº†MyObjectçš„tellæ–¹æ³•ï¼è¿™å°±è¦Dynamic bindingï¼ˆåŠ¨æ€ç»‘å®šï¼‰çŸ¥è¯†æ¥è§£é‡Šäº†ï¼š</p><blockquote><p>Dynamic binding means that when we call a certain objectâ€™s method, and there are several implementations of that method, the right one is figured out at runtime. In Objective-C, this idea is used, but is also extended - you are permitted to send any message to any object. At first glance this may sound rather dangerous, but in fact this allows you a lot of flexibility. ï¼ˆå¤§æ„æ˜¯ï¼šOCçš„åŠ¨æ€ç»‘å®šçš„æ„æ€æ˜¯OCæ‰©å±•äº†Dynamic bindingï¼Œä½¿ç¼–ç¨‹äººå‘˜èƒ½å¤Ÿè¢«å…è®¸å‘é€ä»»ä½•æ¶ˆæ¯ç»™ä»»ä½•å¯¹è±¡ã€‚å’‹ä¸€å¬è¿™ç§æ‰©å±•éå¸¸å±é™©ï¼Œä½†æ˜¯å®é™…ä¸Šå®ƒå¸¦æ¥äº†å¾ˆå¤§çš„çµæ´»æ€§ï¼ï¼‰</p></blockquote><p>ç”±äºMyOtherObject*ä»…ä»…æ˜¯å£°æ˜ä¸€ä¸ªæŒ‡é’ˆï¼Œè¢«èµ‹äºˆidã€‚æ‰€ä»¥ç¬¬(2)è¡Œæ€ä¹ˆæ‰§è¡Œæ˜¯åœ¨è¿è¡Œæ—¶å†³å®šçš„ï¼Œæ‰€ä»¥[obj tell]ä¹Ÿå°±é¡ºç†æˆç« èƒ½å¤Ÿæ¯«æ— é”™è¯¯çš„è¿è¡Œäº†ã€‚</p><p>ç¬¬(3)è¡Œè¿è¡Œçš„æ—¶å€™ï¼ŒæŠ¥é”™:</p><blockquote><p>unrecognized selector sent to instance 0x100400100</p></blockquote><p>ç»“åˆä¸Šé¢çš„çŸ¥è¯†ï¼Œå¾ˆå®¹æ˜“åˆ¤æ–­ï¼Œå› ä¸ºMyOtherObjectæœ‰sayæ–¹æ³•ï¼Œæ‰€ä»¥ç¼–è¯‘å™¨é€šè¿‡ã€‚ä½†æ˜¯è¿è¡Œæ—¶ï¼Œå…¶å®æŒ‡é’ˆçš„å†…å®¹æ˜¯MyObjectï¼ŒMyObjectå¹¶æ²¡æœ‰å£°æ˜sayæ–¹æ³•ï¼Œæ‰€ä»¥å°±æŠ¥é”™äº†ã€‚</p><p>å…³äºDynamic bindingè¿˜æœ‰ä¸ªæ›´æœ‰è¶£çš„ä¾‹å­ï¼Œè¯·çœ‹ï¼š</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">@interface</span> <span class="title">LinkedListNode</span> : <span class="title">NSObject</span></span></span><br><span class="line"><span class="keyword">@property</span> <span class="keyword">id</span> data;</span><br><span class="line"><span class="keyword">@property</span> LinkedListNode * child;</span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">LinkedListNode</span></span></span><br><span class="line"><span class="keyword">@end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> DoSometing2()</span><br><span class="line">&#123;</span><br><span class="line">    LinkedListNode *p = [[LinkedListNode alloc] init];</span><br><span class="line">    p.data = [MyOtherObject new];</span><br><span class="line">    </span><br><span class="line">    LinkedListNode *child = [LinkedListNode new];</span><br><span class="line">    child.data = [MyObject new];</span><br><span class="line">    p.child = child;</span><br><span class="line">    </span><br><span class="line">    LinkedListNode *node;</span><br><span class="line">    <span class="keyword">for</span> (node = p; node != <span class="literal">nil</span>; node = node.child) &#123;</span><br><span class="line">    [[node data] say];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¼–è¯‘ï¼Œæ²¡ä»»ä½•é”™è¯¯ã€‚è¿è¡Œï¼ŒæŠ¥çš„æ˜¯è·Ÿä¸Šé¢(3)ä¸€æ ·çš„é”™è¯¯ã€‚åŒæ ·çš„åŸå› ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿä½ å¯èƒ½ä¼šæƒ³ï¼Œå¤ªçµæ´»äº†ï¼Œå¤ªå®¹æ˜“å‡ºé”™äº†ã€‚å¹¸å¥½ï¼Œæœ‰è§£å†³çš„åŠæ³•ï¼š</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">LinkedListNode *p = [LinkedListNode new];</span><br><span class="line">p.data = [MyOtherObject new];</span><br><span class="line"> </span><br><span class="line"> LinkedListNode *child = [LinkedListNode new];</span><br><span class="line"> child.data = [MyObject new];</span><br><span class="line"> p.child = child;</span><br><span class="line"> </span><br><span class="line"> LinkedListNode *node;</span><br><span class="line"> <span class="keyword">for</span> (node = p; node != <span class="literal">nil</span>; node = node.child) &#123;</span><br><span class="line">        <span class="keyword">if</span> ([[node data] respondsToSelector:<span class="keyword">@selector</span>(say)]) &#123;</span><br><span class="line">            [[node data] say];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œè¿˜å¯ä»¥åˆ¤æ–­æ˜¯å¦æ˜¯æŸä¸€ç‰¹å®šç±»ï¼š</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ([node isKindOfClass:[MyOtherObject <span class="keyword">class</span>]]) &#123;</span><br><span class="line">[[node data] say];</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä¾‹å­çš„factoryMethodçš„è¿”å›å€¼idï¼Œè‹¹æœå·²ç»ä¸æ¨èè¿™ä¹ˆç”¨äº†ã€‚è‹¹æœæ¨èè¿”å›instancetypeã€‚å®ƒè·Ÿidç”¨æ³•ä¸€æ ·ï¼Œä½†æ˜¯ä¸»è¦æ˜¯ç”¨åœ¨alloc, initæˆ–è€…ç±»çš„å·¥å‚æ–¹æ³•ä¸Šçš„ã€‚<br>å®ƒçš„å¥½å¤„æ˜¯ ç¼–è¯‘å™¨èƒ½å¤Ÿæ£€æµ‹è¢«è°ƒç”¨çš„å¯¹è±¡ä¸Šæ˜¯å¦èƒ½å¤Ÿååº”ä¼ å…¥çš„æ¶ˆæ¯ï¼Œå¦‚æœä¸èƒ½ï¼Œåˆ™å‘å‡ºè­¦å‘Šã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Objective-C-Dynamic-binding-ç ”ç©¶&quot;&gt;&lt;a href=&quot;#Objective-C-Dynamic-binding-ç ”ç©¶&quot; class=&quot;headerlink&quot; title=&quot;Objective-C Dynamic binding ç ”ç©¶&quot;&gt;
      
    
    </summary>
    
      <category term="iOS" scheme="http://gobodigo.com/categories/iOS/"/>
    
    
      <category term="objective-c" scheme="http://gobodigo.com/tags/objective-c/"/>
    
  </entry>
  
</feed>
